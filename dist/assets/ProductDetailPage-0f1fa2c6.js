import{g as e,m as s,j as t,n as a,o as r,p as i,F as n,f as l,q as c}from"./index-8cb3ece3.js";import{e as d,r as o,L as m}from"./vendor-1b10af89.js";import{m as x}from"./ui-55e5424c.js";import"./utils-915a2c87.js";const u=()=>{const{id:u}=d(),{products:h}=e(),{addItem:g}=s(),[p,j]=o.useState(null),[b,f]=o.useState(!0),[N,v]=o.useState(1),[y,w]=o.useState(!1);o.useEffect((()=>{f(!0);const e=h.find((e=>{return s=e.id,t=u,String(s)===String(t);var s,t}));e?(console.log("Found product:",e),j(e)):(console.error("Product not found with ID:",u),console.log("Available products:",h.map((e=>({id:e.id,name:e.name}))))),f(!1)}),[u,h]);if(b)return t.jsx("div",{className:"pt-24 pb-16 container",children:t.jsx("div",{className:"flex justify-center items-center h-96",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})})});if(!p)return t.jsx("div",{className:"pt-24 pb-16 container",children:t.jsxs("div",{className:"text-center py-16",children:[t.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Product Not Found"}),t.jsx("p",{className:"text-gray-600 mb-8",children:"The product you're looking for doesn't exist or has been removed."}),t.jsx(m,{to:"/products",className:"btn btn-primary",children:"Browse Products"})]})});const S=p.image||(p.images&&p.images.length>0?p.images[0]:"https://via.placeholder.com/600x400?text=Product+Image"),k=e=>`$${parseFloat(e).toFixed(2)}`,C=p.discount?p.price*(1-p.discount/100):p.price;return t.jsx("div",{className:"pt-24 pb-16",children:t.jsxs("div",{className:"container",children:[t.jsx("div",{className:"mb-8",children:t.jsxs(m,{to:"/products",className:"flex items-center text-primary-600 hover:underline",children:[t.jsx(a,{className:"mr-2"})," Back to Products"]})}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[t.jsx(x.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:t.jsxs("div",{className:"relative overflow-hidden rounded-lg bg-gray-100 mb-4 h-96 flex items-center justify-center",children:[t.jsx("img",{src:S,alt:p.name,className:"max-w-full max-h-full object-contain",onError:e=>{e.target.src="https://via.placeholder.com/600x400?text=Product+Image"}}),p.discount>0&&t.jsxs("div",{className:"absolute top-4 right-4 bg-accent-500 text-white text-sm font-bold px-3 py-1 rounded-full",children:[p.discount,"% OFF"]})]})}),t.jsxs(x.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5},children:[t.jsx("h1",{className:"text-3xl font-bold mb-4",children:p.name}),t.jsx("div",{className:"mb-6",children:p.discount>0?t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"text-2xl font-bold text-primary-600 mr-2",children:k(C)}),t.jsx("span",{className:"text-lg text-gray-500 line-through",children:k(p.price)})]}):t.jsx("span",{className:"text-2xl font-bold text-primary-600",children:k(p.price)})}),t.jsx("p",{className:"text-gray-700 mb-6",children:p.description||"Experience this high-quality product designed for your needs."}),t.jsxs("div",{className:"flex items-center mb-6",children:[t.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 mr-2"}),t.jsx("span",{className:"text-sm font-medium text-green-600",children:"In Stock"})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Quantity"}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("button",{onClick:()=>v((e=>Math.max(1,e-1))),className:"p-2 border border-gray-300 rounded-l-md hover:bg-gray-100",disabled:N<=1,children:t.jsx(r,{})}),t.jsx("input",{type:"number",min:"1",value:N,onChange:e=>{const s=parseInt(e.target.value,10);!isNaN(s)&&s>0&&v(s)},className:"w-16 text-center border-t border-b border-gray-300 py-2 focus:outline-none"}),t.jsx("button",{onClick:()=>v((e=>e+1)),className:"p-2 border border-gray-300 rounded-r-md hover:bg-gray-100",children:t.jsx(i,{})})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-8",children:[t.jsxs(x.button,{onClick:()=>{if(!p)return;const e={id:p.id,name:p.name,price:p.price,image:p.image||(p.images&&p.images.length>0?p.images[0]:null),quantity:N};p.discount&&(e.discount=p.discount),g(e,N),c.success(`${p.name} added to cart!`)},className:"flex-1 flex items-center justify-center gap-2 btn btn-primary",whileHover:{scale:1.02},whileTap:{scale:.98},children:[t.jsx(n,{})," Add to Cart"]}),t.jsxs(x.button,{onClick:()=>w(!y),className:"btn flex-1 flex items-center justify-center gap-2 "+(y?"bg-red-500 text-white hover:bg-red-600":"btn-outline"),whileHover:{scale:1.02},whileTap:{scale:.98},children:[t.jsx(l,{className:y?"fill-current":""})," ",y?"Saved":"Save"]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold mb-3",children:"Product Details"}),t.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:t.jsxs("dl",{className:"space-y-2",children:[t.jsxs("div",{className:"grid grid-cols-2",children:[t.jsx("dt",{className:"text-gray-600",children:"Category"}),t.jsx("dd",{className:"font-medium",children:p.category||"Uncategorized"})]}),p.rating&&t.jsxs("div",{className:"grid grid-cols-2",children:[t.jsx("dt",{className:"text-gray-600",children:"Rating"}),t.jsxs("dd",{className:"font-medium flex items-center",children:[t.jsx("span",{className:"text-accent-500 mr-1",children:"â˜…"}),p.rating]})]})]})})]})]})]})]})})};export{u as default};
