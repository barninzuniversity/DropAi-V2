import{r as e,a as t,R as s,L as r,u as a,b as i,c as n,N as o,d as l,B as c,e as d,f as m}from"./vendor-0395ea00.js";import{c as u}from"./utils-621564b6.js";import{m as x,u as h,a as p,A as g}from"./ui-2f48b99b.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var f={exports:{}},y={},b=e,j=Symbol.for("react.element"),v=Symbol.for("react.fragment"),N=Object.prototype.hasOwnProperty,w=b.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,s){var r,a={},i=null,n=null;for(r in void 0!==s&&(i=""+s),void 0!==t.key&&(i=""+t.key),void 0!==t.ref&&(n=t.ref),t)N.call(t,r)&&!k.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:j,type:e,key:i,ref:n,props:a,_owner:w.current}}y.Fragment=v,y.jsx=S,y.jsxs=S,f.exports=y;var C=f.exports,I={},L=t;I.createRoot=L.createRoot,I.hydrateRoot=L.hydrateRoot;let P,E,O,A={data:""},T=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,D=/\/\*[^]*?\*\/|  +/g,H=/\n+/g,M=(e,t)=>{let s="",r="",a="";for(let i in e){let n=e[i];"@"==i[0]?"i"==i[1]?s=i+" "+n+";":r+="f"==i[1]?M(n,i):i+"{"+M(n,"k"==i[1]?"":t)+"}":"object"==typeof n?r+=M(n,t?t.replace(/([^,])+/g,(e=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,(t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)))):i):null!=n&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=M.p?M.p(i,n):i+":"+n+";")}return s+(t&&a?t+"{"+a+"}":a)+r},B={},F=e=>{if("object"==typeof e){let t="";for(let s in e)t+=s+F(e[s]);return t}return e};function $(e){let t=this||{},s=e.call?e(t.p):e;return((e,t,s,r,a)=>{let i=F(e),n=B[i]||(B[i]=(e=>{let t=0,s=11;for(;t<e.length;)s=101*s+e.charCodeAt(t++)>>>0;return"go"+s})(i));if(!B[n]){let t=i!==e?e:(e=>{let t,s,r=[{}];for(;t=T.exec(e.replace(D,""));)t[4]?r.shift():t[3]?(s=t[3].replace(H," ").trim(),r.unshift(r[0][s]=r[0][s]||{})):r[0][t[1]]=t[2].replace(H," ").trim();return r[0]})(e);B[n]=M(a?{["@keyframes "+n]:t}:t,s?"":"."+n)}let o=s&&B.g?B.g:null;return s&&(B.g=B[n]),l=B[n],c=t,d=r,(m=o)?c.data=c.data.replace(m,l):-1===c.data.indexOf(l)&&(c.data=d?l+c.data:c.data+l),n;var l,c,d,m})(s.unshift?s.raw?((e,t,s)=>e.reduce(((e,r,a)=>{let i=t[a];if(i&&i.call){let e=i(s),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;i=t?"."+t:e&&"object"==typeof e?e.props?"":M(e,""):!1===e?"":e}return e+r+(null==i?"":i)}),""))(s,[].slice.call(arguments,1),t.p):s.reduce(((e,s)=>Object.assign(e,s&&s.call?s(t.p):s)),{}):s,(r=t.target,"object"==typeof window?((r?r.querySelector("#_goober"):window._goober)||Object.assign((r||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:r||A),t.g,t.o,t.k);var r}$.bind({g:1});let q=$.bind({k:1});function z(e,t){let s=this||{};return function(){let r=arguments;function a(i,n){let o=Object.assign({},i),l=o.className||a.className;s.p=Object.assign({theme:E&&E()},o),s.o=/ *go\d+/.test(l),o.className=$.apply(s,r)+(l?" "+l:""),t&&(o.ref=n);let c=e;return e[0]&&(c=o.as||e,delete o.as),O&&c[0]&&O(o),P(c,o)}return t?t(a):a}}var W=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,V=(()=>{let e=0;return()=>(++e).toString()})(),R=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),_=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,20)};case 1:return{...e,toasts:e.toasts.map((e=>e.id===t.toast.id?{...e,...t.toast}:e))};case 2:let{toast:s}=t;return _(e,{type:e.toasts.find((e=>e.id===s.id))?1:0,toast:s});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map((e=>e.id===r||void 0===r?{...e,dismissed:!0,visible:!1}:e))};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter((e=>e.id!==t.toastId))};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map((e=>({...e,pauseDuration:e.pauseDuration+a})))}}},G=[],Y={toasts:[],pausedAt:void 0},U=e=>{Y=_(Y,e),G.forEach((e=>{e(Y)}))},J={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},K=e=>(t,s)=>{let r=((e,t="blank",s)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...s,id:(null==s?void 0:s.id)||V()}))(t,e,s);return U({type:2,toast:r}),r.id},Q=(e,t)=>K("blank")(e,t);Q.error=K("error"),Q.success=K("success"),Q.loading=K("loading"),Q.custom=K("custom"),Q.dismiss=e=>{U({type:3,toastId:e})},Q.remove=e=>U({type:4,toastId:e}),Q.promise=(e,t,s)=>{let r=Q.loading(t.loading,{...s,...null==s?void 0:s.loading});return"function"==typeof e&&(e=e()),e.then((e=>{let a=t.success?W(t.success,e):void 0;return a?Q.success(a,{id:r,...s,...null==s?void 0:s.success}):Q.dismiss(r),e})).catch((e=>{let a=t.error?W(t.error,e):void 0;a?Q.error(a,{id:r,...s,...null==s?void 0:s.error}):Q.dismiss(r)})),e};var Z,X,ee,te,se=(e,t)=>{U({type:1,toast:{id:e,height:t}})},re=()=>{U({type:5,time:Date.now()})},ae=new Map,ie=t=>{let{toasts:s,pausedAt:r}=((t={})=>{let[s,r]=e.useState(Y),a=e.useRef(Y);e.useEffect((()=>(a.current!==Y&&r(Y),G.push(r),()=>{let e=G.indexOf(r);e>-1&&G.splice(e,1)})),[]);let i=s.toasts.map((e=>{var s,r,a;return{...t,...t[e.type],...e,removeDelay:e.removeDelay||(null==(s=t[e.type])?void 0:s.removeDelay)||(null==t?void 0:t.removeDelay),duration:e.duration||(null==(r=t[e.type])?void 0:r.duration)||(null==t?void 0:t.duration)||J[e.type],style:{...t.style,...null==(a=t[e.type])?void 0:a.style,...e.style}}}));return{...s,toasts:i}})(t);e.useEffect((()=>{if(r)return;let e=Date.now(),t=s.map((t=>{if(t.duration===1/0)return;let s=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(s<0))return setTimeout((()=>Q.dismiss(t.id)),s);t.visible&&Q.dismiss(t.id)}));return()=>{t.forEach((e=>e&&clearTimeout(e)))}}),[s,r]);let a=e.useCallback((()=>{r&&U({type:6,time:Date.now()})}),[r]),i=e.useCallback(((e,t)=>{let{reverseOrder:r=!1,gutter:a=8,defaultPosition:i}=t||{},n=s.filter((t=>(t.position||i)===(e.position||i)&&t.height)),o=n.findIndex((t=>t.id===e.id)),l=n.filter(((e,t)=>t<o&&e.visible)).length;return n.filter((e=>e.visible)).slice(...r?[l+1]:[0,l]).reduce(((e,t)=>e+(t.height||0)+a),0)}),[s]);return e.useEffect((()=>{s.forEach((e=>{if(e.dismissed)((e,t=1e3)=>{if(ae.has(e))return;let s=setTimeout((()=>{ae.delete(e),U({type:4,toastId:e})}),t);ae.set(e,s)})(e.id,e.removeDelay);else{let t=ae.get(e.id);t&&(clearTimeout(t),ae.delete(e.id))}}))}),[s]),{toasts:s,handlers:{updateHeight:se,startPause:re,endPause:a,calculateOffset:i}}},ne=q`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,oe=q`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,le=q`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,ce=z("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ne} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${oe} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${le} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,de=q`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,me=z("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${de} 1s linear infinite;
`,ue=q`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,xe=q`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,he=z("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ue} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${xe} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,pe=z("div")`
  position: absolute;
`,ge=z("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,fe=q`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ye=z("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${fe} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,be=({toast:t})=>{let{icon:s,type:r,iconTheme:a}=t;return void 0!==s?"string"==typeof s?e.createElement(ye,null,s):s:"blank"===r?null:e.createElement(ge,null,e.createElement(me,{...a}),"loading"!==r&&e.createElement(pe,null,"error"===r?e.createElement(ce,{...a}):e.createElement(he,{...a})))},je=e=>`\n0% {transform: translate3d(0,${-200*e}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,ve=e=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${-150*e}%,-1px) scale(.6); opacity:0;}\n`,Ne=z("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,we=z("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,ke=e.memo((({toast:t,position:s,style:r,children:a})=>{let i=t.height?((e,t)=>{let s=e.includes("top")?1:-1,[r,a]=R()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[je(s),ve(s)];return{animation:t?`${q(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${q(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}})(t.position||s||"top-center",t.visible):{opacity:0},n=e.createElement(be,{toast:t}),o=e.createElement(we,{...t.ariaProps},W(t.message,t));return e.createElement(Ne,{className:t.className,style:{...i,...r,...t.style}},"function"==typeof a?a({icon:n,message:o}):e.createElement(e.Fragment,null,n,o))}));Z=e.createElement,M.p=X,P=Z,E=ee,O=te;var Se=({id:t,className:s,style:r,onHeightUpdate:a,children:i})=>{let n=e.useCallback((e=>{if(e){let s=()=>{let s=e.getBoundingClientRect().height;a(t,s)};s(),new MutationObserver(s).observe(e,{subtree:!0,childList:!0,characterData:!0})}}),[t,a]);return e.createElement("div",{ref:n,className:s,style:r},i)},Ce=$`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ie=({reverseOrder:t,position:s="top-center",toastOptions:r,gutter:a,children:i,containerStyle:n,containerClassName:o})=>{let{toasts:l,handlers:c}=ie(r);return e.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...n},className:o,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map((r=>{let n=r.position||s,o=((e,t)=>{let s=e.includes("top"),r=s?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:R()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(s?1:-1)}px)`,...r,...a}})(n,c.calculateOffset(r,{reverseOrder:t,gutter:a,defaultPosition:s}));return e.createElement(Se,{id:r.id,key:r.id,onHeightUpdate:c.updateHeight,className:r.visible?Ce:"",style:o},"custom"===r.type?W(r.message,r):i?i(r):e.createElement(ke,{toast:r,position:n}))})))},Le=new Map,Pe=new WeakMap,Ee=0;function Oe(e){return Object.keys(e).sort().filter((t=>void 0!==e[t])).map((t=>{return`${t}_${"root"===t?(s=e.root,s?(Pe.has(s)||(Ee+=1,Pe.set(s,Ee.toString())),Pe.get(s)):"0"):e[t]}`;var s})).toString()}function Ae(e,t,s={},r=undefined){if(void 0===window.IntersectionObserver&&void 0!==r){const a=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:"number"==typeof s.threshold?s.threshold:0,time:0,boundingClientRect:a,intersectionRect:a,rootBounds:a}),()=>{}}const{id:a,observer:i,elements:n}=function(e){const t=Oe(e);let s=Le.get(t);if(!s){const r=new Map;let a;const i=new IntersectionObserver((t=>{t.forEach((t=>{var s;const i=t.isIntersecting&&a.some((e=>t.intersectionRatio>=e));e.trackVisibility&&void 0===t.isVisible&&(t.isVisible=i),null==(s=r.get(t.target))||s.forEach((e=>{e(i,t)}))}))}),e);a=i.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),s={id:t,observer:i,elements:r},Le.set(t,s)}return s}(s),o=n.get(e)||[];return n.has(e)||n.set(e,o),o.push(t),i.observe(e),function(){o.splice(o.indexOf(t),1),0===o.length&&(n.delete(e),i.unobserve(e)),0===n.size&&(i.disconnect(),Le.delete(a))}}function Te({threshold:t,delay:s,trackVisibility:r,rootMargin:a,root:i,triggerOnce:n,skip:o,initialInView:l,fallbackInView:c,onChange:d}={}){var m;const[u,x]=e.useState(null),h=e.useRef(d),[p,g]=e.useState({inView:!!l,entry:void 0});h.current=d,e.useEffect((()=>{if(o||!u)return;let e;return e=Ae(u,((t,s)=>{g({inView:t,entry:s}),h.current&&h.current(t,s),s.isIntersecting&&n&&e&&(e(),e=void 0)}),{root:i,rootMargin:a,threshold:t,trackVisibility:r,delay:s},c),()=>{e&&e()}}),[Array.isArray(t)?t.toString():t,u,i,a,n,o,r,c,s]);const f=null==(m=p.entry)?void 0:m.target,y=e.useRef(void 0);u||!f||n||o||y.current===f||(y.current=f,g({inView:!!l,entry:void 0}));const b=[x,p.inView,p.entry];return b.ref=b[0],b.inView=b[1],b.entry=b[2],b}var De={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},He=s.createContext&&s.createContext(De),Me=globalThis&&globalThis.__assign||function(){return Me=Object.assign||function(e){for(var t,s=1,r=arguments.length;s<r;s++)for(var a in t=arguments[s])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Me.apply(this,arguments)},Be=globalThis&&globalThis.__rest||function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(s[r[a]]=e[r[a]])}return s};function Fe(e){return e&&e.map((function(e,t){return s.createElement(e.tag,Me({key:t},e.attr),Fe(e.child))}))}function $e(e){return function(t){return s.createElement(qe,Me({attr:Me({},e.attr)},t),Fe(e.child))}}function qe(e){var t=function(t){var r,a=e.attr,i=e.size,n=e.title,o=Be(e,["attr","size","title"]),l=i||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),s.createElement("svg",Me({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,o,{className:r,style:Me(Me({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),n&&s.createElement("title",null,n),e.children)};return void 0!==He?s.createElement(He.Consumer,null,(function(e){return t(e)})):t(De)}function ze(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"}},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"}}]})(e)}function We(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"}},{tag:"polyline",attr:{points:"12 19 5 12 12 5"}}]})(e)}function Ve(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"}},{tag:"polyline",attr:{points:"12 5 19 12 12 19"}}]})(e)}function Re(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"}},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"}},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"}}]})(e)}function _e(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"}},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"}}]})(e)}function Ge(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"}}]})(e)}function Ye(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"}}]})(e)}function Ue(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"4",y:"4",width:"16",height:"16",rx:"2",ry:"2"}},{tag:"rect",attr:{x:"9",y:"9",width:"6",height:"6"}},{tag:"line",attr:{x1:"9",y1:"1",x2:"9",y2:"4"}},{tag:"line",attr:{x1:"15",y1:"1",x2:"15",y2:"4"}},{tag:"line",attr:{x1:"9",y1:"20",x2:"9",y2:"23"}},{tag:"line",attr:{x1:"15",y1:"20",x2:"15",y2:"23"}},{tag:"line",attr:{x1:"20",y1:"9",x2:"23",y2:"9"}},{tag:"line",attr:{x1:"20",y1:"14",x2:"23",y2:"14"}},{tag:"line",attr:{x1:"1",y1:"9",x2:"4",y2:"9"}},{tag:"line",attr:{x1:"1",y1:"14",x2:"4",y2:"14"}}]})(e)}function Je(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"ellipse",attr:{cx:"12",cy:"5",rx:"9",ry:"3"}},{tag:"path",attr:{d:"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"}},{tag:"path",attr:{d:"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"}}]})(e)}function Ke(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"}}]})(e)}function Qe(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"}}]})(e)}function Ze(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"}},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"}},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"}},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"}}]})(e)}function Xe(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 18v-6a9 9 0 0 1 18 0v6"}},{tag:"path",attr:{d:"M21 19a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3zM3 19a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H3z"}}]})(e)}function et(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"}}]})(e)}function tt(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"}}]})(e)}function st(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"2",width:"20",height:"20",rx:"5",ry:"5"}},{tag:"path",attr:{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"}},{tag:"line",attr:{x1:"17.5",y1:"6.5",x2:"17.51",y2:"6.5"}}]})(e)}function rt(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"}},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"}},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"}},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"}},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"}},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"}}]})(e)}function at(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"}}]})(e)}function it(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}},{tag:"polyline",attr:{points:"10 17 15 12 10 7"}},{tag:"line",attr:{x1:"15",y1:"12",x2:"3",y2:"12"}}]})(e)}function nt(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}},{tag:"polyline",attr:{points:"22,6 12,13 2,6"}}]})(e)}function ot(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"}},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"}},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"}}]})(e)}function lt(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"}}]})(e)}function ct(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"}},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"}},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"}}]})(e)}function dt(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"}},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"}}]})(e)}function mt(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"}},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}}]})(e)}function ut(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"}},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}}]})(e)}function xt(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"18",cy:"5",r:"3"}},{tag:"circle",attr:{cx:"6",cy:"12",r:"3"}},{tag:"circle",attr:{cx:"18",cy:"19",r:"3"}},{tag:"line",attr:{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"}},{tag:"line",attr:{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"}}]})(e)}function ht(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"}},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"}},{tag:"path",attr:{d:"M16 10a4 4 0 0 1-8 0"}}]})(e)}function pt(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"}},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"}},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"}}]})(e)}function gt(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"}}]})(e)}function ft(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}},{tag:"line",attr:{x1:"7",y1:"7",x2:"7.01",y2:"7"}}]})(e)}function yt(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"}}]})(e)}function bt(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"}}]})(e)}function jt(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"}},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"}},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"}}]})(e)}function vt(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"}},{tag:"polyline",attr:{points:"17 6 23 6 23 12"}}]})(e)}function Nt(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"}}]})(e)}function wt(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"}},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"}},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"}}]})(e)}function kt(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"}}]})(e)}function St(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"}},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"}}]})(e)}function Ct(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"}},{tag:"polygon",attr:{points:"9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"}}]})(e)}const It="dropai_products",Lt="dropai_orders";let Pt=null;const Et=()=>{const e=localStorage.getItem(It);return e?(Pt=JSON.parse(e),Pt):[]},Ot=e=>{const t=(e=>{const t=Et(),s=[];for(const r of e){const e=t.find((e=>e.id===r.id));e?e.stock<r.quantity&&s.push({id:e.id,name:e.name,available:e.stock,requested:r.quantity,reason:`Only ${e.stock} items available`}):s.push({id:r.id,name:r.name||"Unknown Product",reason:"Product no longer available"})}return{success:0===s.length,unavailableItems:s}})(e.items);if(!t.success)return{success:!1,reason:"Some items are no longer available",unavailableItems:t.unavailableItems};const s=Et();for(const n of e.items){const e=s.findIndex((e=>e.id===n.id));-1!==e&&(s[e].stock-=n.quantity)}localStorage.setItem(It,JSON.stringify(s)),localStorage.setItem("dropai_last_save",(new Date).toISOString()),Pt=null;const r=localStorage.getItem(Lt)||"[]",a=JSON.parse(r),i={...e,id:`ORD-${Date.now()}`,date:(new Date).toISOString(),status:"processing"};return a.push(i),localStorage.setItem(Lt,JSON.stringify(a)),window.dispatchEvent(new CustomEvent("inventory-updated",{detail:{action:"order",orderId:i.id}})),{success:!0,order:i}},At=(t={})=>{const{featured:s=!1,limit:r}=t,[a,i]=e.useState([]),[n,o]=e.useState(!0),[l,c]=e.useState(null),d=e.useCallback((()=>{try{o(!0);const e=s?Et().filter((e=>e.discount>0||e.rating&&e.rating>=4.5)):Et(),t=r?e.slice(0,r):e;i(t),c(null)}catch(e){console.error("Error loading products:",e),c("Failed to load products. Please try again.")}finally{o(!1)}}),[s,r]);e.useEffect((()=>{d()}),[d]),e.useEffect((()=>{const e=()=>{console.log("Product data refreshed due to inventory update"),d()};return window.addEventListener("inventory-updated",e),window.addEventListener("focus",e),()=>{window.removeEventListener("inventory-updated",e),window.removeEventListener("focus",e)}}),[d]);return{products:a,loading:n,error:l,refreshProducts:e.useCallback((()=>{Pt=null,Et(),d()}),[d])}};function Tt(e,t){let s;try{s=e()}catch(r){return}return{getItem:e=>{var r;const a=e=>null===e?null:JSON.parse(e,null==t?void 0:t.reviver),i=null!=(r=s.getItem(e))?r:null;return i instanceof Promise?i.then(a):a(i)},setItem:(e,r)=>s.setItem(e,JSON.stringify(r,null==t?void 0:t.replacer)),removeItem:e=>s.removeItem(e)}}const Dt=e=>t=>{try{const s=e(t);return s instanceof Promise?s:{then:e=>Dt(e)(s),catch(e){return this}}}catch(Z){return{then(e){return this},catch:t=>Dt(t)(Z)}}},Ht=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((e,t)=>(s,r,a)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},n=!1;const o=new Set,l=new Set;let c;try{c=i.getStorage()}catch(g){}if(!c)return e(((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),s(...e)}),r,a);const d=Dt(i.serialize),m=()=>{const e=i.partialize({...r()});let t;const s=d({state:e,version:i.version}).then((e=>c.setItem(i.name,e))).catch((e=>{t=e}));if(t)throw t;return s},u=a.setState;a.setState=(e,t)=>{u(e,t),m()};const x=e(((...e)=>{s(...e),m()}),r,a);let h;const p=()=>{var e;if(!c)return;n=!1,o.forEach((e=>e(r())));const t=(null==(e=i.onRehydrateStorage)?void 0:e.call(i,r()))||void 0;return Dt(c.getItem.bind(c))(i.name).then((e=>{if(e)return i.deserialize(e)})).then((e=>{if(e){if("number"!=typeof e.version||e.version===i.version)return e.state;if(i.migrate)return i.migrate(e.state,e.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}})).then((e=>{var t;return h=i.merge(e,null!=(t=r())?t:x),s(h,!0),m()})).then((()=>{null==t||t(h,void 0),n=!0,l.forEach((e=>e(h)))})).catch((e=>{null==t||t(void 0,e)}))};return a.persist={setOptions:e=>{i={...i,...e},e.getStorage&&(c=e.getStorage())},clearStorage:()=>{null==c||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>p(),hasHydrated:()=>n,onHydrate:e=>(o.add(e),()=>{o.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},p(),h||x})(e,t):((e,t)=>(s,r,a)=>{let i={storage:Tt((()=>localStorage)),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},n=!1;const o=new Set,l=new Set;let c=i.storage;if(!c)return e(((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),s(...e)}),r,a);const d=()=>{const e=i.partialize({...r()});return c.setItem(i.name,{state:e,version:i.version})},m=a.setState;a.setState=(e,t)=>{m(e,t),d()};const u=e(((...e)=>{s(...e),d()}),r,a);let x;a.getInitialState=()=>u;const h=()=>{var e,t;if(!c)return;n=!1,o.forEach((e=>{var t;return e(null!=(t=r())?t:u)}));const a=(null==(t=i.onRehydrateStorage)?void 0:t.call(i,null!=(e=r())?e:u))||void 0;return Dt(c.getItem.bind(c))(i.name).then((e=>{if(e){if("number"!=typeof e.version||e.version===i.version)return[!1,e.state];if(i.migrate)return[!0,i.migrate(e.state,e.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]})).then((e=>{var t;const[a,n]=e;if(x=i.merge(n,null!=(t=r())?t:u),s(x,!0),a)return d()})).then((()=>{null==a||a(x,void 0),x=r(),n=!0,l.forEach((e=>e(x)))})).catch((e=>{null==a||a(void 0,e)}))};return a.persist={setOptions:e=>{i={...i,...e},e.storage&&(c=e.storage)},clearStorage:()=>{null==c||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>h(),hasHydrated:()=>n,onHydrate:e=>(o.add(e),()=>{o.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},i.skipHydration||h(),x||u})(e,t),Mt=(e,t=!0)=>null==e?"":t?`${e.toFixed(2)} TND`:`${Math.round(e)} TND`,Bt=(e,t)=>{if(!t)return e;const s=e*(1-t/100);return Math.round(100*s)/100},Ft=e=>{if(!e.discount&&!e.discountPercentage)return{...e,finalPrice:e.price,originalPrice:e.price,hasDiscount:!1,discountPercentage:0};const t=e.discount||e.discountPercentage||0,s=Bt(e.price,t);return{...e,finalPrice:s,originalPrice:e.price,hasDiscount:!0,discountPercentage:t}},$t=u(Ht(((e,t)=>({items:[],isCheckingOut:!1,checkoutError:null,addItem:(s,r=1)=>{const{items:a}=t(),i=a.findIndex((e=>e.id===s.id)),n=Ft(s);if(-1!==i){const t=[...a];t[i].quantity+=r,e({items:t})}else e({items:[...a,{...n,quantity:r,price:n.finalPrice}]})},removeItem:s=>{const{items:r}=t();e({items:r.filter((e=>e.id!==s))})},updateQuantity:(s,r)=>{const{items:a}=t();if(r<=0)return void e({items:a.filter((e=>e.id!==s))});const i=a.map((e=>e.id===s?{...e,quantity:r}:e));e({items:i})},updateDiscount:(s,r)=>{const{items:a}=t(),i=a.map((e=>{if(e.id===s){const t=Bt(e.originalPrice,r);return{...e,discountPercentage:r,hasDiscount:r>0,finalPrice:t,price:t}}return e}));e({items:i})},clearCart:()=>e({items:[]}),getItemCount:()=>{const{items:e}=t();return e.reduce(((e,t)=>e+t.quantity),0)},getCartTotal:()=>{const{items:e}=t();return e.reduce(((e,t)=>e+(void 0!==t.finalPrice?t.finalPrice:t.price)*t.quantity),0)},getCartOriginalTotal:()=>{const{items:e}=t();return e.reduce(((e,t)=>e+(t.originalPrice||t.price)*t.quantity),0)},getCartSavings:()=>{const{getCartOriginalTotal:e,getCartTotal:s}=t();return e()-s()},checkout:async(s,r)=>{const{items:a}=t();e({isCheckingOut:!0,checkoutError:null});try{const t=a.map((e=>({productId:e.id,quantity:e.quantity}))),s=Ot(t);if(!s.success)return e({isCheckingOut:!1,checkoutError:{message:s.message||"Failed to process order",insufficientItems:s.insufficientItems}}),{success:!1,error:s.message};r&&"function"==typeof r&&r();const i=`ORD-${Date.now()}`;return e({items:[],isCheckingOut:!1}),{success:!0,orderId:i,message:"Order placed successfully"}}catch(i){return console.error("Checkout error:",i),e({isCheckingOut:!1,checkoutError:{message:i.message||"Checkout failed"}}),{success:!1,error:i.message}}}})),{name:"cart-storage"})),qt=({product:t})=>{const[s,a]=e.useState(!1),[i,n]=e.useState(!1),{addItem:o}=$t(),l=e=>`${e.toFixed(2)} TND`;return C.jsx(x.div,{className:"card group h-full flex flex-col",whileHover:{y:-10},onHoverStart:()=>a(!0),onHoverEnd:()=>a(!1),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:C.jsxs(r,{to:`/products/${t.id}`,className:"block h-full",children:[C.jsxs("div",{className:"relative overflow-hidden",children:[C.jsx(x.img,{src:t.image,alt:t.name,className:"w-full h-64 object-cover",animate:{scale:s?1.1:1},transition:{duration:.5}}),t.discount>0&&C.jsxs("div",{className:"absolute top-4 right-4 bg-accent-500 text-white text-sm font-bold px-3 py-1 rounded-full z-10",children:[t.discount,"% OFF"]}),C.jsxs(x.div,{className:"absolute bottom-4 right-4 flex flex-col space-y-2",initial:{opacity:0,x:20},animate:{opacity:s?1:0,x:s?0:20},transition:{duration:.3},children:[C.jsx(x.button,{onClick:e=>{e.preventDefault(),e.stopPropagation(),n(!i)},className:"w-10 h-10 rounded-full flex items-center justify-center shadow-lg "+(i?"bg-red-500 text-white":"bg-white text-gray-700"),whileHover:{scale:1.1},whileTap:{scale:.9},children:C.jsx(et,{className:i?"fill-current":""})}),C.jsx(x.button,{onClick:e=>{e.preventDefault(),e.stopPropagation(),o(t)},className:"w-10 h-10 rounded-full bg-primary-600 text-white flex items-center justify-center shadow-lg",whileHover:{scale:1.1},whileTap:{scale:.9},children:C.jsx(pt,{})})]})]}),C.jsxs("div",{className:"p-5 flex-grow flex flex-col",children:[C.jsxs("div",{className:"flex items-center mb-2",children:[C.jsx("div",{className:"flex text-accent-500",children:[...Array(5)].map(((e,s)=>C.jsx(gt,{className:""+(s<Math.floor(t.rating)?"fill-current":"")},s)))}),C.jsxs("span",{className:"text-gray-500 text-sm ml-2",children:[t.reviews," reviews"]})]}),C.jsx("h3",{className:"text-lg font-bold mb-1 text-gray-800 group-hover:text-primary-600 transition-colors duration-300",children:t.name}),C.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:t.description}),C.jsx("div",{className:"mt-auto flex items-center",children:t.discount>0?C.jsxs(C.Fragment,{children:[C.jsx("span",{className:"text-lg font-bold text-primary-600",children:l((c=t.price,d=t.discount,c-c*(d/100)))}),C.jsx("span",{className:"text-sm text-gray-500 line-through ml-2",children:l(t.price)})]}):C.jsx("span",{className:"text-lg font-bold text-primary-600",children:l(t.price)})})]})]})});var c,d},zt=()=>{const{products:t,loading:s,error:a,refreshProducts:i}=At({featured:!0,limit:4}),{scrollY:n}=h(),o=p(n,[0,500],[0,100]),l=p(n,[0,500],[0,-100]),[c,d]=Te({threshold:.1,triggerOnce:!0}),[m,u]=Te({threshold:.1,triggerOnce:!0}),[g,f]=Te({threshold:.1,triggerOnce:!0}),[y,b]=Te({threshold:.1,triggerOnce:!0});e.useEffect((()=>{f&&i()}),[f,i]);const j=e=>`$${e.toFixed(2)}`,v=[{icon:C.jsx(vt,{className:"text-3xl text-primary-500"}),title:"AI-Powered Recommendations",description:"Our smart algorithm learns your preferences to suggest products you'll love."},{icon:C.jsx(ct,{className:"text-3xl text-primary-500"}),title:"Fast Global Shipping",description:"Products shipped directly to your door from our global network of suppliers."},{icon:C.jsx(Xe,{className:"text-3xl text-primary-500"}),title:"24/7 Customer Support",description:"Our dedicated team is always ready to help with any questions or concerns."}];return C.jsxs("div",{className:"overflow-hidden",children:[C.jsxs("section",{className:"relative pt-20 pb-32 overflow-hidden",children:[C.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary-50 to-secondary-50 opacity-50"}),C.jsx(x.div,{className:"absolute top-20 right-0 w-96 h-96 bg-accent-300 rounded-full filter blur-3xl opacity-20",style:{y:o,x:50}}),C.jsx(x.div,{className:"absolute bottom-0 left-0 w-64 h-64 bg-primary-300 rounded-full filter blur-3xl opacity-20",style:{y:l,x:-20}}),C.jsx("div",{className:"container relative",children:C.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[C.jsxs(x.div,{ref:c,initial:{opacity:0,x:-50},animate:d?{opacity:1,x:0}:{},transition:{duration:.8,ease:"easeOut"},className:"text-center lg:text-left",children:[C.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-6 leading-tight",children:[C.jsx("span",{className:"gradient-text",children:"AI-Powered"})," Shopping Experience"]}),C.jsx("p",{className:"text-lg md:text-xl text-gray-700 mb-8 max-w-lg mx-auto lg:mx-0",children:"Discover products tailored just for you. Our AI technology finds the perfect items based on your preferences and style."}),C.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center lg:justify-start",children:[C.jsx(x.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:C.jsxs(r,{to:"/products",className:"btn btn-primary px-8 py-4",children:["Shop Now ",C.jsx(pt,{className:"ml-2"})]})}),C.jsx(x.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:C.jsxs(r,{to:"/about",className:"btn btn-outline px-8 py-4",children:["Learn More ",C.jsx(Ve,{className:"ml-2"})]})})]})]}),C.jsx(x.div,{initial:{opacity:0,x:50},animate:d?{opacity:1,x:0}:{},transition:{duration:.8,ease:"easeOut",delay:.2},className:"relative",children:C.jsxs("div",{className:"relative",children:[C.jsx(x.img,{src:"https://images.unsplash.com/photo-1607082349566-187342175e2f?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1000&q=80",alt:"AI Shopping Experience",className:"rounded-lg shadow-2xl z-10 relative",whileHover:{scale:1.02},transition:{duration:.3}}),C.jsx(x.div,{className:"absolute -top-4 -right-4 w-24 h-24 bg-accent-100 rounded-lg z-0",animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"}}),C.jsx(x.div,{className:"absolute -bottom-4 -left-4 w-32 h-32 bg-primary-100 rounded-full z-0",animate:{scale:[1,1.1,1]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}})]})})]})})]}),C.jsx("section",{className:"py-20 bg-gray-50",children:C.jsxs("div",{className:"container",children:[C.jsxs(x.div,{ref:m,initial:{opacity:0,y:20},animate:u?{opacity:1,y:0}:{},transition:{duration:.6},className:"text-center mb-16",children:[C.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Why Choose DropAI?"}),C.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"We combine cutting-edge AI technology with a curated selection of premium products to create a unique shopping experience."})]}),C.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:v.map(((e,t)=>C.jsxs(x.div,{initial:{opacity:0,y:20},animate:u?{opacity:1,y:0}:{},transition:{duration:.6,delay:.2*t},className:"bg-white p-8 rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300",children:[C.jsx("div",{className:"w-16 h-16 bg-primary-50 rounded-full flex items-center justify-center mb-6 mx-auto",children:e.icon}),C.jsx("h3",{className:"text-xl font-bold mb-3",children:e.title}),C.jsx("p",{className:"text-gray-600",children:e.description})]},e.title)))})]})}),C.jsx("section",{className:"py-20",children:C.jsxs("div",{className:"container",children:[C.jsxs(x.div,{ref:g,initial:{opacity:0,y:20},animate:f?{opacity:1,y:0}:{},transition:{duration:.6},className:"text-center mb-16",children:[C.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Featured Products"}),C.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Explore our handpicked selection of trending products, curated just for you."})]}),s?C.jsxs("div",{className:"text-center py-12",children:[C.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-600 mb-2"}),C.jsx("p",{className:"text-gray-500",children:"Loading products..."})]}):a?C.jsxs("div",{className:"text-center py-12",children:[C.jsx("p",{className:"text-red-500 mb-2",children:a}),C.jsx("button",{onClick:i,className:"btn btn-primary btn-sm",children:"Try Again"})]}):C.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:t.length>0?t.map(((e,t)=>{return C.jsxs(x.div,{initial:{opacity:0,y:20},animate:f?{opacity:1,y:0}:{},transition:{duration:.5,delay:.1*t},whileHover:{y:-10},className:"card group",children:[C.jsxs("div",{className:"relative overflow-hidden",children:[C.jsx("img",{src:e.image,alt:e.name,className:"w-full h-64 object-cover transition-transform duration-500 group-hover:scale-110"}),e.discount>0&&C.jsxs("div",{className:"absolute top-4 right-4 bg-accent-500 text-white text-sm font-bold px-3 py-1 rounded-full",children:[e.discount,"% OFF"]}),C.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:C.jsx(r,{to:`/products/${e.id}`,className:"bg-white text-primary-600 hover:bg-primary-600 hover:text-white transition-colors duration-300 font-medium px-4 py-2 rounded-lg",children:"View Details"})})]}),C.jsxs("div",{className:"p-5",children:[C.jsxs("div",{className:"flex items-center mb-2",children:[C.jsx("div",{className:"flex text-accent-500",children:[...Array(5)].map(((t,s)=>C.jsx(gt,{className:""+(s<Math.floor(e.rating)?"fill-current":"")},s)))}),C.jsxs("span",{className:"text-gray-500 text-sm ml-2",children:[e.reviews," reviews"]})]}),C.jsx("h3",{className:"text-lg font-bold mb-1 text-gray-800",children:e.name}),C.jsx("div",{className:"flex items-center",children:e.discount>0?C.jsxs(C.Fragment,{children:[C.jsx("span",{className:"text-lg font-bold text-primary-600",children:j((s=e.price,a=e.discount,s-s*(a/100)))}),C.jsx("span",{className:"text-sm text-gray-500 line-through ml-2",children:j(e.price)})]}):C.jsx("span",{className:"text-lg font-bold text-primary-600",children:j(e.price)})})]})]},e.id);var s,a})):C.jsxs("div",{className:"col-span-full text-center py-8",children:[C.jsx("p",{className:"text-gray-500",children:"No featured products available right now. Check back soon!"}),C.jsxs(r,{to:"/products",className:"btn btn-outline inline-flex items-center mt-4",children:["View All Products ",C.jsx(Ve,{className:"ml-2"})]})]})}),C.jsx(x.div,{initial:{opacity:0,y:20},animate:f?{opacity:1,y:0}:{},transition:{duration:.6,delay:.4},className:"text-center mt-12",children:C.jsxs(r,{to:"/products",className:"btn btn-outline inline-flex items-center",children:["View All Products ",C.jsx(Ve,{className:"ml-2"})]})})]})}),C.jsx("section",{className:"py-20 bg-gradient-to-r from-primary-600 to-secondary-600 text-white",children:C.jsx("div",{className:"container",children:C.jsxs(x.div,{ref:y,initial:{opacity:0,scale:.9},animate:b?{opacity:1,scale:1}:{},transition:{duration:.6},className:"text-center max-w-3xl mx-auto",children:[C.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Ready to Transform Your Shopping Experience?"}),C.jsx("p",{className:"text-lg mb-8 text-white text-opacity-90",children:"Join thousands of satisfied customers who have discovered their perfect products through our AI-powered platform."}),C.jsx(x.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:C.jsxs(r,{to:"/products",className:"btn bg-white text-primary-600 hover:bg-gray-100 px-8 py-4 text-lg font-bold",children:["Start Shopping Now ",C.jsx(Ve,{className:"ml-2"})]})})]})})})]})},Wt=[{id:1,name:"Wireless Bluetooth Headphones",price:59.99,description:"High-quality wireless headphones with noise cancellation and long battery life. Perfect for music lovers and travelers.",category:"Electronics",image:"https://images.unsplash.com/photo-1505740420928-5e560c06d30e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80",inStock:!0,featured:!0,rating:4.5,reviews:120},{id:2,name:"Smartphone Stand & Charger",price:29.99,description:"Adjustable smartphone stand with built-in wireless charging capability. Compatible with most smartphones.",category:"Accessories",image:"https://images.unsplash.com/photo-1586953208448-b95a79798f07?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80",inStock:!0,featured:!0,rating:4.2,reviews:85},{id:3,name:"Smart Home Hub",price:129.99,description:"Control your smart home devices with ease. Compatible with Alexa, Google Assistant, and Apple HomeKit.",category:"Electronics",image:"https://images.unsplash.com/photo-1558002038-1055907df827?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80",inStock:!0,featured:!1,rating:4,reviews:62},{id:4,name:"Ultra-Slim Laptop Bag",price:49.99,description:"Sleek, durable, and water-resistant laptop bag with multiple compartments for accessories.",category:"Accessories",image:"https://images.unsplash.com/photo-1547949003-9792a18a2601?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80",inStock:!0,featured:!1,rating:4.7,reviews:93},{id:5,name:"Fitness Smart Watch",price:89.99,description:"Track your fitness goals, monitor heart rate, and receive notifications. Water-resistant and long battery life.",category:"Wearables",image:"https://images.unsplash.com/photo-1579586337278-3befd40fd17a?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1172&q=80",inStock:!0,featured:!0,rating:4.6,reviews:215},{id:6,name:"Portable Power Bank",price:39.99,description:"High-capacity power bank with fast charging capability. Charge multiple devices simultaneously.",category:"Electronics",image:"https://images.unsplash.com/photo-1609091839311-d5365f9ff1c5?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80",inStock:!0,featured:!1,rating:4.3,reviews:78},{id:7,name:"Mechanical Keyboard",price:79.99,description:"Tactile mechanical keyboard with customizable RGB lighting. Perfect for gamers and programmers.",category:"Computer Accessories",image:"https://images.unsplash.com/photo-1595225476474-57ff36594612?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80",inStock:!1,featured:!1,rating:4.8,reviews:156},{id:8,name:"Ergonomic Office Chair",price:189.99,description:"Comfortable ergonomic chair with lumbar support and adjustable features. Ideal for long working hours.",category:"Furniture",image:"https://images.unsplash.com/photo-1598300042247-d088f8ab3a91?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80",inStock:!0,featured:!1,rating:4.4,reviews:112},{id:9,name:"Premium Wireless Earbuds",price:129.99,description:"High-quality wireless earbuds with noise cancellation and crystal-clear sound. Perfect for music lovers and professionals on the go.",category:"Electronics",image:"https://images.unsplash.com/photo-1606220588913-b3aacb4d2f46?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1000&q=80",inStock:!0,featured:!0,rating:4.8,reviews:245},{id:10,name:"Adjustable Standing Desk",price:299.99,description:"Electric height-adjustable desk for a healthier work environment. Smooth transition between sitting and standing positions.",category:"Furniture",image:"https://images.unsplash.com/photo-1619642751034-765dfdf7c58e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1074&q=80",inStock:!0,featured:!1,rating:4.9,reviews:87}],Vt=()=>Wt,Rt=Wt,_t=()=>{const[t,s]=e.useState([]),[r,a]=e.useState([]),[i,n]=e.useState(!0),[o,l]=e.useState(!1),[c,d]=e.useState("grid"),[m,u]=e.useState("featured"),[h,p]=e.useState({categories:[],priceRange:[0,1e3],rating:0}),[g,f]=Te({threshold:.1,triggerOnce:!0}),y=[...new Set(Rt.map((e=>e.category)))];e.useEffect((()=>{(async()=>{n(!0),setTimeout((()=>{s(Rt),a(Rt),n(!1)}),800)})()}),[]),e.useEffect((()=>{if(0===t.length)return;let e=[...t];switch(h.categories.length>0&&(e=e.filter((e=>h.categories.includes(e.category)))),e=e.filter((e=>{const t=e.discount>0?e.price-e.price*(e.discount/100):e.price;return t>=h.priceRange[0]&&t<=h.priceRange[1]})),h.rating>0&&(e=e.filter((e=>e.rating>=h.rating))),m){case"price-low":e.sort(((e,t)=>(e.discount>0?e.price-e.price*(e.discount/100):e.price)-(t.discount>0?t.price-t.price*(t.discount/100):t.price)));break;case"price-high":e.sort(((e,t)=>{const s=e.discount>0?e.price-e.price*(e.discount/100):e.price;return(t.discount>0?t.price-t.price*(t.discount/100):t.price)-s}));break;case"rating":e.sort(((e,t)=>t.rating-e.rating));break;case"newest":e.sort(((e,t)=>t.id-e.id))}a(e)}),[t,h,m]);const b=()=>{p({categories:[],priceRange:[0,1e3],rating:0}),u("featured")},j=e=>`${e} TND`,v={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return C.jsx("div",{className:"pt-24 pb-16",children:C.jsxs("div",{className:"container",children:[C.jsxs("div",{className:"mb-12 text-center",children:[C.jsx(x.h1,{className:"text-4xl font-bold mb-4",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:"All Products"}),C.jsx(x.p,{className:"text-gray-600 max-w-2xl mx-auto",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.2},children:"Browse our curated collection of premium products, personalized for your unique style and preferences."})]}),C.jsx("div",{className:"lg:hidden mb-6",children:C.jsxs("button",{onClick:()=>{l(!o)},className:"btn btn-outline w-full flex items-center justify-center gap-2",children:[C.jsx(Qe,{})," ",o?"Hide Filters":"Show Filters"]})}),C.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[C.jsx(x.aside,{className:`lg:w-64 ${o?"block":"hidden"} lg:block`,initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.3},children:C.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 sticky top-24",children:[C.jsxs("div",{className:"flex items-center justify-between mb-6",children:[C.jsx("h2",{className:"text-xl font-bold",children:"Filters"}),C.jsx("button",{onClick:b,className:"text-primary-600 text-sm hover:underline",children:"Clear All"})]}),C.jsxs("div",{className:"mb-6",children:[C.jsx("h3",{className:"font-bold mb-3",children:"Categories"}),C.jsx("div",{className:"space-y-2",children:y.map((e=>C.jsxs("label",{className:"flex items-center cursor-pointer",children:[C.jsx("input",{type:"checkbox",checked:h.categories.includes(e),onChange:()=>(e=>{p((t=>{const s=t.categories.includes(e)?t.categories.filter((t=>t!==e)):[...t.categories,e];return{...t,categories:s}}))})(e),className:"form-checkbox h-5 w-5 text-primary-600 rounded border-gray-300 focus:ring-primary-500"}),C.jsx("span",{className:"ml-2 text-gray-700",children:e})]},e)))})]}),C.jsxs("div",{className:"mb-6",children:[C.jsx("h3",{className:"font-bold mb-3",children:"Price Range"}),C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsx("span",{className:"text-gray-600 text-sm",children:j(h.priceRange[0])}),C.jsx("span",{className:"text-gray-600 text-sm",children:j(h.priceRange[1])})]}),C.jsx("input",{type:"range",min:"0",max:"1000",step:"10",value:h.priceRange[1],onChange:e=>{return t=h.priceRange[0],s=parseInt(e.target.value),void p((e=>({...e,priceRange:[t,s]})));var t,s},className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]})]}),C.jsxs("div",{children:[C.jsx("h3",{className:"font-bold mb-3",children:"Rating"}),C.jsx("div",{className:"space-y-2",children:[4,3,2,1].map((e=>C.jsxs("label",{className:"flex items-center cursor-pointer",children:[C.jsx("input",{type:"radio",name:"rating",checked:h.rating===e,onChange:()=>(e=>{p((t=>({...t,rating:e})))})(e),className:"form-radio h-5 w-5 text-primary-600 border-gray-300 focus:ring-primary-500"}),C.jsxs("span",{className:"ml-2 text-gray-700",children:[e,"+ Stars"]})]},e)))})]})]})}),C.jsxs("div",{className:"flex-1",children:[C.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 gap-4",children:[C.jsxs("div",{className:"flex items-center",children:[C.jsx("span",{className:"text-gray-600 mr-2",children:"Sort by:"}),C.jsxs("div",{className:"relative",children:[C.jsxs("select",{value:m,onChange:e=>u(e.target.value),className:"appearance-none bg-white border border-gray-300 rounded-lg py-2 pl-4 pr-10 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[C.jsx("option",{value:"featured",children:"Featured"}),C.jsx("option",{value:"price-low",children:"Price: Low to High"}),C.jsx("option",{value:"price-high",children:"Price: High to Low"}),C.jsx("option",{value:"rating",children:"Highest Rated"}),C.jsx("option",{value:"newest",children:"Newest"})]}),C.jsx(Ye,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500"})]})]}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("span",{className:"text-gray-600 mr-2",children:"View:"}),C.jsx("button",{onClick:()=>d("grid"),className:"p-2 rounded-md "+("grid"===c?"bg-primary-100 text-primary-600":"text-gray-500 hover:bg-gray-100"),"aria-label":"Grid view",children:C.jsx(Ze,{})}),C.jsx("button",{onClick:()=>d("list"),className:"p-2 rounded-md "+("list"===c?"bg-primary-100 text-primary-600":"text-gray-500 hover:bg-gray-100"),"aria-label":"List view",children:C.jsx(rt,{})})]})]}),C.jsxs("p",{className:"text-gray-600 mb-6",children:["Showing ",r.length," ",1===r.length?"product":"products"]}),i?C.jsx("div",{className:"flex justify-center items-center h-64",children:C.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):0===r.length?C.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[C.jsx("h3",{className:"text-xl font-bold mb-2",children:"No products found"}),C.jsx("p",{className:"text-gray-600 mb-4",children:"Try adjusting your filters to find what you're looking for."}),C.jsx("button",{onClick:b,className:"btn btn-primary",children:"Clear Filters"})]}):C.jsx(x.div,{ref:g,variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",animate:f?"visible":"hidden",className:"grid"===c?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-6",children:r.map((e=>C.jsx(x.div,{variants:v,children:C.jsx(qt,{product:e})},e.id)))})]})]})]})})},Gt={},Yt=function(e,t,s){if(!t||0===t.length)return e();const r=document.getElementsByTagName("link");return Promise.all(t.map((e=>{if((e=function(e){return"/"+e}(e))in Gt)return;Gt[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(!!s)for(let s=r.length-1;s>=0;s--){const a=r[s];if(a.href===e&&(!t||"stylesheet"===a.rel))return}else if(document.querySelector(`link[href="${e}"]${a}`))return;const i=document.createElement("link");return i.rel=t?"stylesheet":"modulepreload",t||(i.as="script",i.crossOrigin=""),i.href=e,document.head.appendChild(i),t?new Promise(((t,s)=>{i.addEventListener("load",t),i.addEventListener("error",(()=>s(new Error(`Unable to preload CSS for ${e}`))))})):void 0}))).then((()=>e())).catch((e=>{const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}))},Ut=e.createContext(null),Jt=()=>e.useContext(Ut),Kt=({children:t})=>{const[s,r]=e.useState([]),[a,i]=e.useState(!0);e.useEffect((()=>{try{const e=localStorage.getItem("cart");e&&r(JSON.parse(e))}catch(e){console.error("Failed to load cart from localStorage:",e)}finally{i(!1)}}),[]),e.useEffect((()=>{a||localStorage.setItem("cart",JSON.stringify(s))}),[s,a]);const n=e=>{r((t=>{const s=t.find((t=>t.id===e));return s&&Q.success(`Removed ${s.name} from cart`),t.filter((t=>t.id!==e))}))},o=s.reduce(((e,t)=>e+t.quantity),0),l={items:s,loading:a,addItem:(e,t=1)=>{r((s=>{const r=s.findIndex((t=>t.id===e.id));if(r>-1){const a=[...s];return a[r]={...a[r],quantity:a[r].quantity+t},Q.success(`Updated ${e.name} quantity in cart`),a}return Q.success(`Added ${e.name} to cart`),[...s,{...e,quantity:t}]}))},removeItem:n,updateQuantity:(e,t)=>{t<=0?n(e):r((s=>s.map((s=>s.id===e?{...s,quantity:t}:s))))},clearCart:()=>{r([]),Q.success("Cart cleared")},itemCount:o,total:s.reduce(((e,t)=>e+t.price*t.quantity),0),isEmpty:0===s.length};return C.jsx(Ut.Provider,{value:l,children:t})},Qt=({currentProductId:t,userPreferences:s={}})=>{const[r,a]=e.useState([]),[i,n]=e.useState(!0),[o,l]=e.useState({});e.useEffect((()=>{n(!0),setTimeout((()=>{const e=Rt.filter((e=>e.id!==t)),s=Rt.find((e=>e.id===t));let r=[];r=s?[...e.filter((e=>e.category===s.category))].sort(((e,t)=>t.rating-e.rating)).slice(0,4):[...e].sort(((e,t)=>t.rating-e.rating)).slice(0,4),a(r),n(!1)}),1e3)}),[t,s]);const c=(e,t)=>{console.log(`User ${t?"liked":"disliked"} recommendation for product ${e}`),l((s=>({...s,[e]:t})))};return i?C.jsx("div",{className:"py-8",children:C.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-8",children:[C.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-primary-600"}),C.jsx("span",{className:"text-gray-600",children:"AI is generating recommendations..."})]})}):0===r.length?null:C.jsxs("div",{className:"py-8",children:[C.jsxs("div",{className:"flex items-center mb-8",children:[C.jsx("div",{className:"w-10 h-10 bg-primary-50 rounded-full flex items-center justify-center mr-3",children:C.jsx(Ue,{className:"text-primary-600"})}),C.jsxs("div",{children:[C.jsx("h3",{className:"text-xl font-bold",children:"AI-Powered Recommendations"}),C.jsx("p",{className:"text-gray-600 text-sm",children:"Products selected just for you by our smart algorithm"})]})]}),C.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:r.map(((e,t)=>C.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1*t},className:"relative",children:[C.jsx(qt,{product:e}),C.jsx("div",{className:"absolute top-2 left-2 flex space-x-1",children:void 0===o[e.id]?C.jsxs(C.Fragment,{children:[C.jsx(x.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>c(e.id,!0),className:"w-8 h-8 bg-white rounded-full shadow-md flex items-center justify-center text-gray-600 hover:text-green-500","aria-label":"Like recommendation",children:C.jsx(bt,{size:14})}),C.jsx(x.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>c(e.id,!1),className:"w-8 h-8 bg-white rounded-full shadow-md flex items-center justify-center text-gray-600 hover:text-red-500","aria-label":"Dislike recommendation",children:C.jsx(yt,{size:14})})]}):C.jsx(x.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},className:"px-2 py-1 rounded-full text-xs font-medium "+(o[e.id]?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:o[e.id]?"Liked":"Disliked"})})]},e.id)))})]})},Zt=()=>{const{id:t}=a(),[s,i]=e.useState(null),[n,o]=e.useState(!0),[l,c]=e.useState(0),[d,m]=e.useState(1),[u,h]=e.useState(!1),[p,g]=e.useState(!1),[f,y]=e.useState(""),[b,j]=e.useState({loading:!1,success:!1,error:""}),{addItem:v}=Jt();e.useEffect((()=>{(async()=>{try{o(!0),setTimeout((()=>{const e=Rt.find((e=>e.id===parseInt(t)));e?i(e):Q.error("Product not found"),o(!1)}),800)}catch(e){console.error("Error fetching product:",e),Q.error("Failed to load product details"),o(!1)}})()}),[t]);const N=()=>{g(!1),y("")};return n?C.jsx("div",{className:"pt-24 pb-16 container",children:C.jsx("div",{className:"flex justify-center items-center h-96",children:C.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})})}):s?C.jsxs("div",{className:"pt-24 pb-16",children:[C.jsxs("div",{className:"container",children:[C.jsx("div",{className:"mb-8",children:C.jsxs(r,{to:"/products",className:"flex items-center text-primary-600 hover:underline",children:[C.jsx(We,{className:"mr-2"})," Back to Products"]})}),C.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[C.jsxs(x.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:[C.jsxs("div",{className:"relative overflow-hidden rounded-lg bg-gray-100 mb-4",children:[C.jsx(x.img,{src:s.images[l],alt:s.name,className:"w-full h-96 object-contain",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}},l),s.discount>0&&C.jsxs("div",{className:"absolute top-4 right-4 bg-accent-500 text-white text-sm font-bold px-3 py-1 rounded-full",children:[s.discount,"% OFF"]})]}),C.jsx("div",{className:"grid grid-cols-4 gap-2",children:s.images.map(((e,t)=>C.jsx("div",{className:"cursor-pointer rounded-md overflow-hidden border-2 "+(l===t?"border-primary-500":"border-transparent"),onClick:()=>c(t),children:C.jsx("img",{src:e,alt:`${s.name} - View ${t+1}`,className:"w-full h-24 object-cover"})},t)))})]}),C.jsxs(x.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5},children:[C.jsxs("div",{className:"flex items-center mb-2",children:[C.jsx("div",{className:"flex text-accent-500",children:[...Array(5)].map(((e,t)=>C.jsx(gt,{className:""+(t<Math.floor(s.rating)?"fill-current":"")},t)))}),C.jsxs("span",{className:"text-gray-500 text-sm ml-2",children:[s.reviews," reviews"]})]}),C.jsx("h1",{className:"text-3xl font-bold mb-4",children:s.name}),C.jsx("div",{className:"mb-6",children:s.discount>0?C.jsxs("div",{className:"flex items-center",children:[C.jsx("span",{className:"text-2xl font-bold text-primary-600 mr-2",children:Mt(Bt(s.price,s.discount))}),C.jsx("span",{className:"text-lg text-gray-500 line-through",children:Mt(s.price)}),C.jsxs("span",{className:"ml-2 bg-accent-500 text-white text-sm font-bold px-2 py-1 rounded-full",children:[s.discount,"% OFF"]})]}):C.jsx("span",{className:"text-2xl font-bold text-primary-600",children:Mt(s.price)})}),C.jsx("p",{className:"text-gray-700 mb-6",children:s.description}),C.jsxs("div",{className:"flex items-center mb-6",children:[C.jsx("div",{className:`w-3 h-3 rounded-full ${s.stock>0?"bg-green-500":"bg-red-500"} mr-2`}),C.jsx("span",{className:"text-sm font-medium",children:s.stock>0?`In Stock (${s.stock} available)`:"Out of Stock"})]}),C.jsxs("div",{className:"mb-6",children:[C.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Quantity"}),C.jsxs("div",{className:"flex items-center",children:[C.jsx("button",{onClick:()=>{const e=Math.max(1,d-1);m(e)},className:"p-2 border border-gray-300 rounded-l-md hover:bg-gray-100",disabled:d<=1,children:C.jsx(lt,{})}),C.jsx("input",{type:"number",min:"1",max:"99",value:d,onChange:e=>m(parseInt(e.target.value)||1),className:"w-16 text-center border-t border-b border-gray-300 py-2 focus:outline-none"}),C.jsx("button",{onClick:()=>{const e=Math.min(99,d+1);m(e)},className:"p-2 border border-gray-300 rounded-r-md hover:bg-gray-100",disabled:d>=99,children:C.jsx(dt,{})})]})]}),C.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-8",children:[C.jsxs(x.button,{onClick:()=>{if(s)if(s.discount>0){const e=s.price,t=Bt(e,s.discount),r={...s,originalPrice:e,discountedPrice:t};v(r,d),Q.success(`${s.name} added to cart!`)}else v(s,d),Q.success(`${s.name} added to cart!`)},className:"btn btn-primary flex-1 flex items-center justify-center gap-2",whileHover:{scale:1.02},whileTap:{scale:.98},disabled:s.stock<=0,children:[C.jsx(pt,{})," Add to Cart"]}),C.jsxs(x.button,{onClick:()=>{h(!u)},className:"btn flex-1 flex items-center justify-center gap-2 "+(u?"bg-red-500 text-white hover:bg-red-600":"btn-outline"),whileHover:{scale:1.02},whileTap:{scale:.98},children:[C.jsx(et,{className:u?"fill-current":""})," ",u?"Saved":"Save"]}),C.jsx(x.button,{onClick:()=>{g(!0),j({loading:!1,success:!1,error:""})},className:"btn btn-outline p-4",whileHover:{scale:1.1},whileTap:{scale:.9},"aria-label":"Share Product",children:C.jsx(xt,{})})]}),C.jsxs("div",{className:"mb-8",children:[C.jsx("h3",{className:"text-lg font-bold mb-3",children:"Key Features"}),C.jsx("ul",{className:"space-y-2",children:s.features.map(((e,t)=>C.jsxs("li",{className:"flex items-start",children:[C.jsx(Ge,{className:"text-green-500 mt-1 mr-2"}),C.jsx("span",{children:e})]},t)))})]}),C.jsxs("div",{children:[C.jsx("h3",{className:"text-lg font-bold mb-3",children:"Specifications"}),C.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:C.jsx("dl",{className:"space-y-2",children:Object.entries(s.specifications).map((([e,t])=>C.jsxs("div",{className:"grid grid-cols-2",children:[C.jsx("dt",{className:"text-gray-600 capitalize",children:e.replace(/([A-Z])/g," $1").trim()}),C.jsx("dd",{className:"font-medium",children:t})]},e)))})})]})]})]}),C.jsx("section",{className:"mt-20",children:C.jsx("div",{className:"border-t border-gray-200 pt-16",children:C.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[C.jsx("h2",{className:"text-2xl font-bold mb-8",children:"You Might Also Like"}),C.jsx(Qt,{currentProductId:parseInt(t)})]})})})]}),p&&C.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:C.jsxs(x.div,{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},children:[C.jsxs("div",{className:"flex justify-between items-center mb-4",children:[C.jsx("h3",{className:"text-xl font-bold",children:"Share This Product"}),C.jsx("button",{onClick:N,className:"p-2 rounded-full hover:bg-gray-100","aria-label":"Close",children:C.jsx(St,{})})]}),b.success?C.jsxs(x.div,{className:"bg-green-50 border border-green-200 rounded-lg p-6 text-center",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},children:[C.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:C.jsx(Ge,{className:"text-green-500 text-2xl"})}),C.jsx("h3",{className:"text-xl font-bold text-green-800 mb-2",children:"Product Shared!"}),C.jsxs("p",{className:"text-green-700",children:["The product has been shared successfully with ",f,"."]})]}):C.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),f&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(f)){j({loading:!0,success:!1,error:""});try{const{shareProductViaEmail:e}=await Yt((()=>import("./emailService-3f1d8ef3.js")),[]);await e(s,f),j({loading:!1,success:!0,error:""}),setTimeout((()=>{N()}),3e3)}catch(t){console.error("Failed to share product:",t),j({loading:!1,success:!1,error:"Failed to share the product. Please try again later."})}}else j({loading:!1,success:!1,error:"Please enter a valid email address"})},children:[C.jsx("p",{className:"text-gray-600 mb-4",children:"Share this product with a friend or colleague via email."}),C.jsxs("div",{className:"mb-4",children:[C.jsx("label",{htmlFor:"recipientEmail",className:"block text-gray-700 font-medium mb-2",children:"Recipient's Email Address *"}),C.jsxs("div",{className:"relative",children:[C.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:C.jsx(nt,{className:"text-gray-400"})}),C.jsx("input",{type:"email",id:"recipientEmail",value:f,onChange:e=>y(e.target.value),className:"input pl-10",placeholder:"email@example.com",required:!0})]}),b.error&&C.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.error})]}),C.jsxs("div",{className:"flex justify-end",children:[C.jsx("button",{type:"button",onClick:N,className:"btn btn-outline mr-2",disabled:b.loading,children:"Cancel"}),C.jsx("button",{type:"submit",className:"btn btn-primary flex items-center gap-2",disabled:b.loading,children:b.loading?C.jsxs(C.Fragment,{children:[C.jsx("span",{className:"animate-spin mr-2 inline-block h-4 w-4 border-t-2 border-b-2 border-white rounded-full"}),"Sending..."]}):C.jsxs(C.Fragment,{children:["Share ",C.jsx(xt,{})]})})]})]})]})})]}):C.jsx("div",{className:"pt-24 pb-16 container",children:C.jsxs("div",{className:"text-center py-16",children:[C.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Product Not Found"}),C.jsx("p",{className:"text-gray-600 mb-8",children:"The product you're looking for doesn't exist or has been removed."}),C.jsx(r,{to:"/products",className:"btn btn-primary",children:"Browse Products"})]})})},Xt=e.createContext(null),es=()=>e.useContext(Xt),ts=({children:t})=>{const[s,r]=e.useState(null),[a,i]=e.useState(!0);e.useEffect((()=>{const e=localStorage.getItem("user");if(e)try{r(JSON.parse(e))}catch(t){console.error("Failed to parse stored user data:",t),localStorage.removeItem("user")}i(!1)}),[]);const n={user:s,loading:a,login:async(e,t)=>{try{i(!0),await new Promise((e=>setTimeout(e,1e3)));const t={id:Date.now().toString(),email:e,name:"User"};return r(t),localStorage.setItem("user",JSON.stringify(t)),Q.success("Login successful!"),!0}catch(s){return Q.error("Login failed: "+s.message),!1}finally{i(!1)}},register:async(e,t,s)=>{try{i(!0),await new Promise((e=>setTimeout(e,1e3)));const t={id:Date.now().toString(),email:e,name:s};return r(t),localStorage.setItem("user",JSON.stringify(t)),Q.success("Registration successful!"),!0}catch(a){return Q.error("Registration failed: "+a.message),!1}finally{i(!1)}},logout:()=>{r(null),localStorage.removeItem("user"),Q.success("Logged out successfully")},isAuthenticated:!!s};return C.jsx(Xt.Provider,{value:n,children:t})},ss=u((e=>({notification:{isVisible:!1,type:"info",message:"",autoCloseTime:5e3,position:"top",showIcon:!0},showNotification:t=>{e({notification:{isVisible:!0,type:t.type||"info",message:t.message||"",autoCloseTime:void 0!==t.autoCloseTime?t.autoCloseTime:5e3,position:t.position||"top",showIcon:void 0===t.showIcon||t.showIcon}})},hideNotification:()=>{e((e=>({notification:{...e.notification,isVisible:!1}})))},showSuccess:(t,s={})=>{e({notification:{isVisible:!0,type:"success",message:t,autoCloseTime:void 0!==s.autoCloseTime?s.autoCloseTime:5e3,position:s.position||"top",showIcon:void 0===s.showIcon||s.showIcon}})},showError:(t,s={})=>{e({notification:{isVisible:!0,type:"error",message:t,autoCloseTime:void 0!==s.autoCloseTime?s.autoCloseTime:5e3,position:s.position||"top",showIcon:void 0===s.showIcon||s.showIcon}})},showInfo:(t,s={})=>{e({notification:{isVisible:!0,type:"info",message:t,autoCloseTime:void 0!==s.autoCloseTime?s.autoCloseTime:5e3,position:s.position||"top",showIcon:void 0===s.showIcon||s.showIcon}})},showWarning:(t,s={})=>{e({notification:{isVisible:!0,type:"warning",message:t,autoCloseTime:void 0!==s.autoCloseTime?s.autoCloseTime:5e3,position:s.position||"top",showIcon:void 0===s.showIcon||s.showIcon}})}}))),rs=({products:t,updateProductStock:s})=>{const{items:a,removeItem:o,updateQuantity:l,clearCart:c,total:d,isEmpty:m}=Jt(),{isAuthenticated:u}=es(),{addNotification:h}=ss(),[p,f]=e.useState(!0),[y,b]=e.useState(null),[j,v]=e.useState(!1),N=i(),w=n(),k="true"===new URLSearchParams(N.search).get("orderConfirmed"),[S,I]=e.useState(!1);e.useEffect((()=>{const e="true"===sessionStorage.getItem("orderCompleted");if(k||e){I(!0),k&&!e&&sessionStorage.setItem("orderCompleted","true");const t=setTimeout((()=>{w("/purchase-confirmation",{replace:!0}),setTimeout((()=>{sessionStorage.removeItem("orderCompleted")}),1e3)}),100);return()=>clearTimeout(t)}const t=setTimeout((()=>{f(!1)}),600);return()=>clearTimeout(t)}),[k,w]);const L=(e,s)=>{const r=Math.max(1,e.quantity+s);if(t){const a=t.find((t=>t.id===e.id));if(s>0&&a&&r>a.stock)return void h({type:"error",message:`Sorry, only ${a.stock} units available for this product.`})}l(e.id,r)},P=d,E=m?0:7,O=P+E;return p||S?C.jsx("div",{className:"pt-24 pb-16 container",children:C.jsx("div",{className:"flex justify-center items-center h-96",children:C.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})})}):C.jsx("div",{className:"pt-24 pb-16",children:C.jsxs("div",{className:"container",children:[C.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[C.jsx(x.h1,{className:"text-3xl font-bold text-center lg:text-left",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:"Your Shopping Cart"}),C.jsxs(r,{to:"/products",className:"flex items-center text-primary-600 hover:underline",children:[C.jsx(We,{className:"mr-2"})," Continue Shopping"]})]}),m?C.jsxs(x.div,{className:"text-center py-16 bg-gray-50 rounded-lg",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[C.jsx(pt,{className:"text-5xl text-gray-400 mx-auto mb-4"}),C.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Your cart is empty"}),C.jsx("p",{className:"text-gray-600 mb-8",children:"Looks like you haven't added any products to your cart yet."}),C.jsx(r,{to:"/products",className:"btn btn-primary",children:"Start Shopping"})]}):C.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[C.jsx(x.div,{className:"lg:col-span-2",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:C.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[C.jsx("div",{className:"p-6 border-b border-gray-200",children:C.jsxs("div",{className:"flex justify-between items-center",children:[C.jsxs("h2",{className:"text-xl font-bold",children:["Cart Items (",a.length,")"]}),C.jsx("button",{onClick:()=>v(!0),className:"text-red-500 hover:text-red-700 text-sm font-medium",children:"Clear Cart"}),j&&C.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-50",children:C.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full",children:[C.jsx("h3",{className:"text-xl font-bold mb-4",children:"Clear Your Cart?"}),C.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to remove all items from your cart? This action cannot be undone."}),C.jsxs("div",{className:"flex justify-end space-x-4",children:[C.jsx("button",{onClick:()=>v(!1),className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-100",children:"Cancel"}),C.jsx("button",{onClick:()=>{c(),v(!1)},className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Clear Cart"})]})]})})]})}),C.jsx(g,{children:a.map((e=>C.jsxs(x.div,{className:"p-6 border-b border-gray-200 flex flex-col sm:flex-row gap-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,height:0,marginTop:0,marginBottom:0,padding:0},transition:{duration:.3},style:{opacity:y===e.id?.5:1},children:[C.jsx("div",{className:"w-full sm:w-24 h-24 bg-gray-100 rounded-md overflow-hidden",children:C.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover"})}),C.jsxs("div",{className:"flex-1",children:[C.jsx("h3",{className:"font-bold text-lg mb-1",children:e.name}),C.jsx("p",{className:"text-gray-500 text-sm mb-2",children:e.category}),C.jsx("div",{className:"mt-1 text-sm text-gray-500",children:C.jsxs("span",{className:"block sm:inline",children:["Price: ",Mt(e.price)]})}),t&&C.jsx(C.Fragment,{children:(()=>{const s=t.find((t=>t.id===e.id));if(s){const e=s.stock<10;if(0===s.stock)return C.jsx("div",{className:"mt-1 text-red-600 text-sm font-medium",children:"Out of stock"});if(e)return C.jsxs("div",{className:"mt-1 text-amber-600 text-sm",children:["Only ",s.stock," left in stock"]})}return null})()}),C.jsxs("div",{className:"flex items-center justify-between mt-2",children:[C.jsxs("div",{className:"flex items-center",children:[C.jsx("button",{onClick:()=>L(e,-1),className:"p-1 rounded-full hover:bg-gray-100",disabled:e.quantity<=1,children:C.jsx(lt,{className:"text-gray-500"})}),C.jsx("span",{className:"mx-2 w-8 text-center",children:e.quantity}),C.jsx("button",{onClick:()=>L(e,1),className:"p-1 rounded-full hover:bg-gray-100",disabled:t&&(()=>{const s=t.find((t=>t.id===e.id));return s&&e.quantity>=s.stock})(),children:C.jsx(dt,{className:""+(t&&(()=>{const s=t.find((t=>t.id===e.id));return s&&e.quantity>=s.stock})()?"text-gray-300":"text-gray-500")})})]}),C.jsxs("div",{className:"flex items-center gap-4",children:[C.jsx("span",{className:"font-bold",children:Mt(e.price*e.quantity)}),C.jsx("button",{onClick:()=>{return t=e.id,b(t),void setTimeout((()=>{o(t),b(null)}),300);var t},className:"text-red-500 hover:text-red-700","aria-label":`Remove ${e.name} from cart`,children:C.jsx(jt,{})})]})]})]})]},e.id)))})]})}),C.jsx(x.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5},children:C.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 sticky top-24",children:[C.jsx("h2",{className:"text-xl font-bold mb-6",children:"Order Summary"}),C.jsxs("div",{className:"space-y-4 mb-6",children:[C.jsxs("div",{className:"flex justify-between",children:[C.jsx("span",{className:"text-gray-600",children:"Subtotal"}),C.jsx("span",{className:"font-medium",children:Mt(P)})]}),C.jsxs("div",{className:"flex justify-between",children:[C.jsx("span",{className:"text-gray-600",children:"Shipping"}),C.jsx("span",{className:"font-medium",children:0===E?"Free":Mt(E)})]}),C.jsxs("div",{className:"border-t border-gray-200 pt-4 flex justify-between",children:[C.jsx("span",{className:"font-bold",children:"Total"}),C.jsx("span",{className:"font-bold text-xl",children:Mt(O)})]})]}),C.jsx(x.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:C.jsxs("button",{onClick:e=>u?t&&a.some((e=>{const s=t.find((t=>t.id===e.id));return!s||s.stock<e.quantity}))?(e.preventDefault(),void h({type:"error",message:"Some items in your cart are out of stock or have insufficient quantity."})):(sessionStorage.setItem("orderItems",JSON.stringify(a)),void w("/checkout")):(e.preventDefault(),h({type:"error",message:"Please log in to checkout"}),void w("/login")),className:"btn btn-primary w-full flex items-center justify-center gap-2 "+(t&&a.some((e=>{const s=t.find((t=>t.id===e.id));return s&&s.stock<e.quantity}))?"opacity-50 cursor-not-allowed":""),children:["Proceed to Checkout ",C.jsx(Ve,{})]})})]})})]})]})})},as=({products:t,updateProductStock:s})=>{const a=n(),{items:i,getCartTotal:o,getCartOriginalTotal:l,getCartSavings:c,clearCart:d}=$t(),{addNotification:m}=ss(),[u,h]=e.useState(!0),[p,g]=e.useState(!1),[f,y]=e.useState(!1),[b,j]=e.useState({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",state:"",zipCode:"",country:"Tunisia"});e.useEffect((()=>{const e=sessionStorage.getItem("orderCompleted");0!==i.length||f||e||a("/cart");const t=setTimeout((()=>{h(!1)}),600);return()=>clearTimeout(t)}),[i,a,f]);const v=o(),N=l(),w=c(),k=v+7,S=e=>{const{name:t,value:s}=e.target;j((e=>({...e,[t]:s})))},I=e=>{t&&s&&e.forEach((e=>{const r=t.find((t=>t.id===e.id));if(r){const t=Math.max(0,r.stock-e.quantity);s(e.id,t),console.log(`Updated stock for ${e.name}: ${r.stock} -> ${t}`),t<5&&t>0?m({type:"info",message:`Low stock alert: Only ${t} units of "${e.name}" remaining.`}):0===t&&m({type:"warning",message:`"${e.name}" is now out of stock.`})}}))};return u?C.jsx("div",{className:"pt-24 pb-16 container",children:C.jsx("div",{className:"flex justify-center items-center h-96",children:C.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})})}):f?C.jsx("div",{className:"pt-24 pb-16",children:C.jsx("div",{className:"container max-w-3xl mx-auto",children:C.jsxs(x.div,{className:"bg-white rounded-lg shadow-md p-8 text-center",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},children:[C.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:C.jsx(Ge,{className:"text-green-600 text-3xl"})}),C.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Order Confirmed!"}),C.jsx("p",{className:"text-gray-600 mb-4",children:"Thank you for your purchase. Your order has been received and is being processed. You will receive a confirmation email shortly."}),C.jsxs("p",{className:"text-amber-600 mb-8 text-sm font-medium",children:["If you don't receive an order confirmation email within 6 hours, please contact us at ",C.jsx("a",{href:"mailto:barninzshop@gmail.com",className:"underline hover:text-amber-700",children:"barninzshop@gmail.com"})]}),C.jsxs("div",{className:"mb-8 p-6 bg-gray-50 rounded-lg",children:[C.jsx("h3",{className:"font-bold mb-2",children:"Order Summary"}),C.jsxs("div",{className:"flex justify-between mb-2",children:[C.jsx("span",{children:"Order Number:"}),C.jsx("span",{className:"font-medium",children:sessionStorage.getItem("orderNumber")||"ORD-"+Math.floor(1e4*Math.random()).toString().padStart(4,"0")})]}),C.jsxs("div",{className:"flex justify-between mb-2",children:[C.jsx("span",{children:"Order Date:"}),C.jsx("span",{className:"font-medium",children:sessionStorage.getItem("orderDate")||(new Date).toLocaleDateString()})]}),C.jsxs("div",{className:"flex justify-between",children:[C.jsx("span",{children:"Total Amount:"}),C.jsx("span",{className:"font-bold",children:sessionStorage.getItem("orderTotal")?`${sessionStorage.getItem("orderTotal")} TND`:Mt(k)})]})]}),C.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[C.jsx(r,{to:"/products",className:"btn btn-primary",children:"Continue Shopping"}),C.jsx(r,{to:"/",className:"btn btn-outline",children:"Back to Home"})]})]})})}):C.jsx("div",{className:"pt-24 pb-16",children:C.jsxs("div",{className:"container",children:[C.jsx("div",{className:"mb-8",children:C.jsxs(r,{to:"/cart",className:"flex items-center text-primary-600 hover:underline",children:[C.jsx(We,{className:"mr-2"})," Back to Cart"]})}),C.jsx(x.h1,{className:"text-3xl font-bold mb-8 text-center",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:"Checkout"}),C.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 max-w-6xl mx-auto",children:[C.jsx("div",{className:"lg:col-span-2",children:C.jsx(x.div,{className:"bg-white rounded-lg shadow-md overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:C.jsxs("form",{onSubmit:async e=>{e.preventDefault(),g(!0);const s=(()=>{if(!t)return{success:!0,insufficientItems:[]};const e=[];for(const s of i){const r=t.find((e=>e.id===s.id));r?r.stock<s.quantity&&e.push({id:s.id,name:s.name,requested:s.quantity,available:r.stock,message:`Only ${r.stock} units available`}):e.push({id:s.id,name:s.name,message:"Product not found in inventory"})}return{success:0===e.length,insufficientItems:e}})();if(!s.success)return g(!1),m({type:"error",message:"Some items in your cart are out of stock"}),sessionStorage.setItem("insufficientItems",JSON.stringify(s.insufficientItems)),void a("/cart");const r={customer:{firstName:b.firstName,lastName:b.lastName,email:b.email,phone:b.phone,address:b.address,city:b.city,state:b.state,zipCode:b.zipCode,country:b.country},items:i.map((e=>{const t=e.finalPrice||e.price,s=e.originalPrice||e.price,r=e.discountPercentage||0;return{...e,finalPrice:t,originalPrice:s,discountPercentage:r,itemTotal:t*e.quantity,savings:s!==t?(s-t)*e.quantity:0}})),payment:{method:"Cash on Delivery",subtotal:v,originalSubtotal:N,totalSavings:w,shipping:7,total:k,status:"Pending - Payment on Delivery"},orderDate:(new Date).toISOString(),orderNumber:"ORD-"+Math.floor(1e4*Math.random()).toString().padStart(4,"0")};try{const{sendOrderNotification:e}=await Yt((()=>import("./emailService-3f1d8ef3.js")),[]),t=await e(r);t&&!1===t.success&&console.error("Email notification failed:",t.error),sessionStorage.setItem("orderItems",JSON.stringify(i)),I(i),setTimeout((()=>{sessionStorage.setItem("orderCompleted","true"),sessionStorage.setItem("orderNumber",r.orderNumber),sessionStorage.setItem("orderDate",(new Date).toLocaleDateString()),sessionStorage.setItem("orderTotal",k.toFixed(2)),g(!1),y(!0),d()}),1500)}catch(n){console.error("Order process error:",n),sessionStorage.setItem("orderItems",JSON.stringify(i)),I(i),setTimeout((()=>{sessionStorage.setItem("orderCompleted","true"),sessionStorage.setItem("orderNumber",r.orderNumber),sessionStorage.setItem("orderDate",(new Date).toLocaleDateString()),sessionStorage.setItem("orderTotal",k.toFixed(2)),g(!1),y(!0),d()}),1500)}},children:[C.jsx("div",{className:"p-6 border-b border-gray-200",children:C.jsx("h2",{className:"text-xl font-bold",children:"Shipping Information"})}),C.jsxs("div",{className:"p-6 space-y-6",children:[C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[C.jsxs("div",{children:[C.jsx("label",{htmlFor:"firstName",className:"block text-gray-700 font-medium mb-2",children:"First Name"}),C.jsx("input",{type:"text",id:"firstName",name:"firstName",value:b.firstName,onChange:S,className:"input",required:!0})]}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"lastName",className:"block text-gray-700 font-medium mb-2",children:"Last Name"}),C.jsx("input",{type:"text",id:"lastName",name:"lastName",value:b.lastName,onChange:S,className:"input",required:!0})]})]}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[C.jsxs("div",{children:[C.jsx("label",{htmlFor:"email",className:"block text-gray-700 font-medium mb-2",children:"Email Address"}),C.jsx("input",{type:"email",id:"email",name:"email",value:b.email,onChange:S,className:"input",required:!0})]}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"phone",className:"block text-gray-700 font-medium mb-2",children:"Phone Number"}),C.jsx("input",{type:"tel",id:"phone",name:"phone",value:b.phone,onChange:S,className:"input",required:!0})]})]}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"address",className:"block text-gray-700 font-medium mb-2",children:"Address"}),C.jsx("input",{type:"text",id:"address",name:"address",value:b.address,onChange:S,className:"input",required:!0})]}),C.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[C.jsxs("div",{className:"col-span-2",children:[C.jsx("label",{htmlFor:"city",className:"block text-gray-700 font-medium mb-2",children:"City"}),C.jsx("input",{type:"text",id:"city",name:"city",value:b.city,onChange:S,className:"input",required:!0})]}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"state",className:"block text-gray-700 font-medium mb-2",children:"State"}),C.jsx("input",{type:"text",id:"state",name:"state",value:b.state,onChange:S,className:"input",required:!0})]}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"zipCode",className:"block text-gray-700 font-medium mb-2",children:"ZIP Code"}),C.jsx("input",{type:"text",id:"zipCode",name:"zipCode",value:b.zipCode,onChange:S,className:"input",required:!0})]})]}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"country",className:"block text-gray-700 font-medium mb-2",children:"Country"}),C.jsxs("select",{id:"country",name:"country",value:b.country,onChange:S,className:"input",required:!0,children:[C.jsx("option",{value:"Tunisia",children:"Tunisia"}),C.jsx("option",{value:"United States",children:"United States"}),C.jsx("option",{value:"Canada",children:"Canada"}),C.jsx("option",{value:"United Kingdom",children:"United Kingdom"}),C.jsx("option",{value:"Australia",children:"Australia"}),C.jsx("option",{value:"France",children:"France"}),C.jsx("option",{value:"Germany",children:"Germany"}),C.jsx("option",{value:"Japan",children:"Japan"})]})]})]}),C.jsx("div",{className:"p-6 bg-gray-50 flex justify-end",children:C.jsx(x.button,{type:"submit",className:"btn btn-primary",whileHover:{scale:1.02},whileTap:{scale:.98},disabled:p,children:p?C.jsxs(C.Fragment,{children:[C.jsx("span",{className:"animate-spin mr-2 inline-block h-4 w-4 border-t-2 border-b-2 border-white rounded-full"}),"Processing..."]}):"Complete Order (Cash on Delivery)"})})]})})}),C.jsx(x.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5},children:C.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 sticky top-24",children:[C.jsx("h2",{className:"text-xl font-bold mb-6",children:"Order Summary"}),C.jsxs("div",{className:"space-y-4 mb-6",children:[C.jsx("div",{className:"max-h-60 overflow-y-auto mb-4",children:i.map((e=>{const s=e.finalPrice||e.price,r=e.originalPrice||e.price,a=r>s,i=a?Math.round(100*(1-s/r)):0,n=t?t.find((t=>t.id===e.id)):null,o=n&&n.stock<10&&n.stock>0,l=n&&0===n.stock,c=n&&n.stock<e.quantity;return C.jsxs("div",{className:"flex items-center py-2 border-b border-gray-100",children:[C.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-md overflow-hidden mr-3",children:C.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover"})}),C.jsxs("div",{className:"flex-1",children:[C.jsx("h4",{className:"text-sm font-medium",children:e.name}),C.jsxs("div",{className:"flex justify-between text-sm",children:[C.jsxs("span",{children:["Qty: ",e.quantity]}),C.jsx("span",{className:"font-medium",children:Mt(s*e.quantity)})]}),a&&C.jsxs("div",{className:"text-xs text-right",children:[C.jsx("span",{className:"line-through text-gray-500",children:Mt(r*e.quantity)}),C.jsxs("span",{className:"ml-1 text-red-500",children:["(",i,"% off)"]})]}),l&&C.jsx("div",{className:"text-xs text-red-600 mt-1",children:"Out of stock"}),!l&&c&&C.jsxs("div",{className:"text-xs text-red-600 mt-1",children:["Only ",n.stock," available"]}),!c&&o&&C.jsxs("div",{className:"text-xs text-amber-600 mt-1",children:["Low stock: ",n.stock," left"]})]})]},e.id)}))}),C.jsxs("div",{className:"flex justify-between",children:[C.jsx("span",{className:"text-gray-600",children:"Subtotal"}),C.jsx("span",{className:"font-medium",children:Mt(v)})]}),w>0&&C.jsxs("div",{className:"flex justify-between text-green-600",children:[C.jsx("span",{children:"Savings"}),C.jsxs("span",{children:["-",Mt(w)]})]}),C.jsxs("div",{className:"flex justify-between",children:[C.jsx("span",{className:"text-gray-600",children:"Shipping"}),C.jsx("span",{className:"font-medium",children:Mt(7)})]}),C.jsxs("div",{className:"border-t border-gray-200 pt-4 flex justify-between",children:[C.jsx("span",{className:"font-bold",children:"Total"}),C.jsx("span",{className:"font-bold text-xl",children:Mt(k)})]})]})]})})]})]})})},is=()=>{const t=n(),{login:s,loading:a,error:i,clearError:o}=es(),[l,c]=e.useState(""),[d,m]=e.useState(""),[u,h]=e.useState({});return C.jsx("div",{className:"pt-24 pb-16",children:C.jsx("div",{className:"container max-w-md mx-auto",children:C.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white rounded-xl shadow-lg p-8",children:[C.jsxs("div",{className:"text-center mb-8",children:[C.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Welcome Back"}),C.jsx("p",{className:"text-gray-600",children:"Sign in to your account"})]}),i&&C.jsxs(x.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 text-red-600 p-4 rounded-lg flex items-center gap-3 mb-6",children:[C.jsx(ze,{className:"flex-shrink-0"}),C.jsx("p",{children:i})]}),C.jsx("form",{onSubmit:async e=>{if(e.preventDefault(),!(()=>{const e={};return l.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l)||(e.email="Please enter a valid email address"):e.email="Email is required",d||(e.password="Password is required"),h(e),0===Object.keys(e).length})())return;await s(l,d)&&t("/account")},children:C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{children:[C.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),C.jsxs("div",{className:"relative",children:[C.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:C.jsx(nt,{className:"text-gray-400"})}),C.jsx("input",{type:"email",id:"email",name:"email",value:l,onChange:e=>{c(e.target.value),u.email&&h((e=>({...e,email:""}))),i&&o()},className:"input pl-10 "+(u.email?"border-red-500 focus:border-red-500 focus:ring-red-500":""),placeholder:"you@example.com"})]}),u.email&&C.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.email})]}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),C.jsxs("div",{className:"relative",children:[C.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:C.jsx(at,{className:"text-gray-400"})}),C.jsx("input",{type:"password",id:"password",name:"password",value:d,onChange:e=>{m(e.target.value),u.password&&h((e=>({...e,password:""}))),i&&o()},className:"input pl-10 "+(u.password?"border-red-500 focus:border-red-500 focus:ring-red-500":""),placeholder:"••••••••"})]}),u.password&&C.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.password})]}),C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsxs("div",{className:"flex items-center",children:[C.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),C.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Remember me"})]}),C.jsx("div",{className:"text-sm",children:C.jsx("a",{href:"#",className:"font-medium text-primary-600 hover:text-primary-500",children:"Forgot password?"})})]}),C.jsx("div",{children:C.jsx("button",{type:"submit",disabled:a,className:"btn btn-primary w-full",children:a?C.jsxs(C.Fragment,{children:[C.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[C.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),C.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in"})})]})}),C.jsx("div",{className:"mt-8 text-center",children:C.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",C.jsx(r,{to:"/register",className:"font-medium text-primary-600 hover:text-primary-500",children:"Sign up"})]})})]})})})},ns=()=>{const t=i(),[s,a]=e.useState(!1),n=e=>t.pathname===e||"/admin"!==e&&t.pathname.startsWith(e),o=[{name:"Dashboard",path:"/admin",icon:C.jsx(Re,{className:"mr-3 h-5 w-5"})},{name:"Products",path:"/admin/products",icon:C.jsx(_e,{className:"mr-3 h-5 w-5"})},{name:"Inventory",path:"/admin/inventory",icon:C.jsx(ht,{className:"mr-3 h-5 w-5"})},{name:"Discounts",path:"/admin/discounts",icon:C.jsx(ft,{className:"mr-3 h-5 w-5"})},{name:"Storage",path:"/admin/storage",icon:C.jsx(Je,{className:"mr-3 h-5 w-5"})},{name:"Settings",path:"/admin/settings",icon:C.jsx(ut,{className:"mr-3 h-5 w-5"})}];return C.jsxs("div",{className:"admin-navigation",children:[C.jsxs("div",{className:"lg:hidden p-4 flex items-center justify-between bg-white border-b",children:[C.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Admin Panel"}),C.jsx("button",{onClick:()=>{a(!s)},className:"text-gray-500 hover:text-gray-600 focus:outline-none",children:s?C.jsx(St,{size:24}):C.jsx(ot,{size:24})})]}),s&&C.jsx("div",{className:"lg:hidden",children:C.jsx("nav",{className:"bg-white px-2 pt-2 pb-4 space-y-1",children:o.map((e=>C.jsxs(r,{to:e.path,className:(n(e.path)?"bg-indigo-50 text-indigo-700":"text-gray-700 hover:bg-gray-50 hover:text-gray-900")+" group flex items-center px-2 py-2 text-base font-medium rounded-md",onClick:()=>a(!1),children:[e.icon,e.name]},e.path)))})}),C.jsx("div",{className:"hidden lg:flex lg:flex-shrink-0",children:C.jsx("div",{className:"flex flex-col w-64",children:C.jsx("div",{className:"flex flex-col h-0 flex-1 bg-white border-r",children:C.jsxs("div",{className:"flex-1 flex flex-col pt-5 pb-4 overflow-y-auto",children:[C.jsx("div",{className:"flex items-center flex-shrink-0 px-4",children:C.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Admin Panel"})}),C.jsx("nav",{className:"mt-5 flex-1 px-2 bg-white space-y-1",children:o.map((e=>C.jsxs(r,{to:e.path,className:(n(e.path)?"bg-indigo-50 text-indigo-700":"text-gray-700 hover:bg-gray-50 hover:text-gray-900")+" group flex items-center px-2 py-2 text-sm font-medium rounded-md",children:[e.icon,e.name]},e.path)))})]})})})})]})},os=()=>{const{user:t,isAuthenticated:s}=es(),r=i(),[a,n]=e.useState(!1);return e.useEffect((()=>{n(!(!s||!t))}),[s,t]),s?a?C.jsx("div",{className:"min-h-screen bg-gray-100",children:C.jsxs("div",{className:"flex flex-col lg:flex-row",children:[C.jsx(ns,{}),C.jsxs("div",{className:"flex-1 p-6 lg:p-8",children:[C.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Admin Dashboard"}),C.jsx("div",{className:"bg-white shadow-md rounded-lg p-6",children:C.jsx("p",{className:"text-gray-600",children:"Welcome to the admin dashboard. Use the navigation menu to manage your store."})})]})]})}):C.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:C.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md p-8 text-center",children:[C.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Access Denied"}),C.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to access the admin panel."}),C.jsx("a",{href:"/",className:"inline-block bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition",children:"Return to Homepage"})]})}):C.jsx(o,{to:"/login",state:{from:r},replace:!0})},ls=()=>C.jsx("div",{className:"pt-24 pb-16",children:C.jsx("div",{className:"container max-w-4xl mx-auto",children:C.jsxs(x.div,{className:"text-center py-16 px-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[C.jsx(x.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:.2},className:"mb-8",children:C.jsx("div",{className:"text-9xl font-bold gradient-text inline-block",children:"404"})}),C.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Page Not Found"}),C.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-lg mx-auto",children:"Oops! The page you're looking for doesn't exist or has been moved."}),C.jsxs(x.div,{className:"flex flex-col sm:flex-row gap-4 justify-center",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},children:[C.jsx(x.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:C.jsxs(r,{to:"/",className:"btn btn-primary flex items-center justify-center gap-2",children:[C.jsx(tt,{})," Back to Home"]})}),C.jsx(x.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:C.jsxs(r,{to:"/products",className:"btn btn-outline flex items-center justify-center gap-2",children:[C.jsx(ht,{})," Browse Products"]})})]}),C.jsxs("div",{className:"relative h-64 mt-16",children:[C.jsx(x.div,{className:"absolute left-1/4 top-0 w-16 h-16 bg-primary-100 rounded-lg",animate:{y:[0,-20,0],rotate:[0,10,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),C.jsx(x.div,{className:"absolute right-1/4 top-1/4 w-20 h-20 bg-secondary-100 rounded-full",animate:{y:[0,20,0],rotate:[0,-15,0]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:.5}}),C.jsx(x.div,{className:"absolute left-1/3 bottom-0 w-12 h-12 bg-accent-100 rounded-lg",animate:{y:[0,-15,0],rotate:[0,20,0]},transition:{duration:3.5,repeat:1/0,ease:"easeInOut",delay:1}})]})]})})}),cs=()=>{const[t,s]=e.useState(""),[a,i]=e.useState([]),[n,o]=e.useState(!1),[l,c]=e.useState(!1),[d,m]=e.useState([]),[u,h]=e.useState([]),[p,f]=e.useState([]),y=e.useRef(null),b=e.useRef(null);e.useEffect((()=>{f(Vt())}),[]);const j=e=>`$${e.toFixed(2)}`;e.useEffect((()=>{const e=localStorage.getItem("recentSearches");e&&m(JSON.parse(e))}),[]),e.useEffect((()=>{const e=e=>{y.current&&!y.current.contains(e.target)&&c(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}),[]),e.useEffect((()=>{if(t.length>1&&p.length>0){(()=>{const e=[...new Set(p.map((e=>e.category)))],s=[...new Set(p.flatMap((e=>e.tags||[])))],r=[...e.filter((e=>e.toLowerCase().includes(t.toLowerCase()))).map((e=>({type:"category",text:e}))),...s.filter((e=>e.toLowerCase().includes(t.toLowerCase()))).map((e=>({type:"tag",text:e}))),...[{type:"nl",text:`best ${t}`},{type:"nl",text:`${t} under $100`},{type:"nl",text:`top rated ${t}`}]];h(r.slice(0,5))})()}else h([])}),[t,p]),e.useEffect((()=>{if(t.length>2&&p.length>0){o(!0),c(!0);const e=setTimeout((()=>{(()=>{const e=p.filter((e=>{const s=t.toLowerCase();return e.name.toLowerCase().includes(s)||e.description.toLowerCase().includes(s)||e.category.toLowerCase().includes(s)||e.tags&&e.tags.some((e=>e.toLowerCase().includes(s)))}));e.sort(((e,s)=>{const r=e.name.toLowerCase().includes(t.toLowerCase()),a=s.name.toLowerCase().includes(t.toLowerCase());return r&&!a?-1:!r&&a?1:s.rating-e.rating})),i(e.slice(0,6)),o(!1),""!==t.trim()&&m((e=>{const s=[t,...e.filter((e=>e!==t))].slice(0,5);return localStorage.setItem("recentSearches",JSON.stringify(s)),s}))})()}),500);return()=>clearTimeout(e)}i([]),o(!1)}),[t,p]);return C.jsxs("div",{className:"relative",ref:y,children:[C.jsxs("form",{onSubmit:e=>{e.preventDefault(),console.log("Search submitted:",t)},className:"relative",children:[C.jsx("input",{type:"text",ref:b,value:t,onChange:e=>{s(e.target.value)},onFocus:()=>c(!0),className:"input pl-10 pr-10 w-full",placeholder:"Search with AI-powered natural language...","aria-label":"Search products"}),C.jsx(mt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),t&&C.jsx("button",{type:"button",onClick:()=>{s(""),c(!1),b.current.focus()},className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600","aria-label":"Clear search",children:C.jsx(St,{})})]}),C.jsx(g,{children:l&&(t.length>0||d.length>0)&&C.jsxs(x.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"absolute z-50 mt-2 w-full bg-white rounded-lg shadow-lg border border-gray-200 overflow-hidden",children:[u.length>0&&C.jsxs("div",{className:"p-3 border-b border-gray-100",children:[C.jsxs("div",{className:"flex items-center text-xs text-gray-500 mb-2",children:[C.jsx(Ue,{className:"mr-1"}),C.jsx("span",{children:"AI Suggestions"})]}),C.jsx("ul",{children:u.map(((e,t)=>C.jsx("li",{children:C.jsxs("button",{onClick:()=>(e=>{s(e.text),b.current.focus()})(e),className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50 rounded flex items-center",children:[C.jsx(mt,{className:"mr-2 text-gray-400"}),C.jsxs("span",{children:["category"===e.type&&C.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-1.5 py-0.5 rounded mr-2",children:"Category"}),"tag"===e.type&&C.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-1.5 py-0.5 rounded mr-2",children:"Tag"}),e.text]})]})},`${e.type}-${t}`)))})]}),d.length>0&&0===t.length&&C.jsxs("div",{className:"p-3 border-b border-gray-100",children:[C.jsxs("div",{className:"flex justify-between items-center mb-2",children:[C.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[C.jsx(vt,{className:"mr-1"}),C.jsx("span",{children:"Recent Searches"})]}),C.jsx("button",{onClick:()=>{m([]),localStorage.removeItem("recentSearches")},className:"text-xs text-primary-600 hover:text-primary-700",children:"Clear All"})]}),C.jsx("ul",{children:d.map(((e,t)=>C.jsx("li",{children:C.jsxs("button",{onClick:()=>(e=>{s(e),b.current.focus()})(e),className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50 rounded flex items-center",children:[C.jsx(mt,{className:"mr-2 text-gray-400"}),e]})},t)))})]}),n?C.jsxs("div",{className:"p-4 text-center",children:[C.jsx("div",{className:"inline-block animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-primary-600 mb-2"}),C.jsx("p",{className:"text-sm text-gray-500",children:"Searching with AI..."})]}):a.length>0&&C.jsx("div",{className:"max-h-96 overflow-y-auto",children:C.jsxs("div",{className:"p-3",children:[C.jsxs("div",{className:"flex items-center justify-between mb-2",children:[C.jsxs("span",{className:"text-xs text-gray-500",children:[a.length," results found"]}),C.jsx(r,{to:`/products?search=${encodeURIComponent(t)}`,className:"text-xs text-primary-600 hover:text-primary-700",children:"View All Results"})]}),C.jsx("ul",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:a.map((e=>{return C.jsx("li",{children:C.jsxs(r,{to:`/products/${e.id}`,className:"flex items-center p-2 hover:bg-gray-50 rounded-lg",onClick:()=>c(!1),children:[C.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-md overflow-hidden mr-3",children:C.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover"})}),C.jsxs("div",{className:"flex-1 min-w-0",children:[C.jsx("h4",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),C.jsx("p",{className:"text-xs text-gray-500 truncate",children:e.category}),C.jsx("div",{className:"mt-1",children:e.discount>0?C.jsxs("div",{className:"flex items-center",children:[C.jsx("span",{className:"text-xs font-medium text-primary-600",children:j((t=e.price,s=e.discount,t-t*(s/100)))}),C.jsx("span",{className:"text-xs text-gray-500 line-through ml-1",children:j(e.price)})]}):C.jsx("span",{className:"text-xs font-medium text-primary-600",children:j(e.price)})})]})]})},e.id);var t,s}))})]})}),!n&&t.length>2&&0===a.length&&C.jsxs("div",{className:"p-4 text-center",children:[C.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:['No results found for "',t,'"']}),C.jsx("p",{className:"text-xs text-gray-400",children:"Try using different keywords or browse our categories"})]})]})})]})},ds=u(Ht(((e,t)=>({user:null,isAuthenticated:!1,isLoading:!1,error:null,isAdmin:()=>{const e=t().user;return e&&"admin"===e.role},login:async(t,s)=>{e({isLoading:!0,error:null});try{if(await new Promise((e=>setTimeout(e,1e3))),!t||!s)throw new Error("Email and password are required");const r="admin@dropai.com"===t.toLowerCase(),a={id:"1",name:t.split("@")[0],email:t,role:r?"admin":"customer",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=256&q=80",joinDate:(new Date).toLocaleDateString("en-US",{year:"numeric",month:"long"})};return e({user:a,isAuthenticated:!0,isLoading:!1,error:null}),a}catch(r){throw e({isLoading:!1,error:r.message||"Failed to login"}),r}},register:async(t,s,r)=>{e({isLoading:!0,error:null});try{if(await new Promise((e=>setTimeout(e,1e3))),!t||!s||!r)throw new Error("All fields are required");if(r.length<6)throw new Error("Password must be at least 6 characters");const a="admin@dropai.com"===s.toLowerCase(),i={id:"1",name:t,email:s,role:a?"admin":"customer",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=256&q=80",joinDate:(new Date).toLocaleDateString("en-US",{year:"numeric",month:"long"})};return e({user:i,isAuthenticated:!0,isLoading:!1,error:null}),i}catch(a){throw e({isLoading:!1,error:a.message||"Failed to register"}),a}},logout:()=>{e({user:null,isAuthenticated:!1,error:null})},updateProfile:async s=>{e({isLoading:!0,error:null});try{await new Promise((e=>setTimeout(e,1e3)));const r={...t().user,...s};return e({user:r,isLoading:!1,error:null}),r}catch(r){throw e({isLoading:!1,error:r.message||"Failed to update profile"}),r}},clearError:()=>e({error:null})})),{name:"auth-storage"})),ms=({isScrolled:t})=>{var s;const[a,i]=e.useState(!1),[n,o]=e.useState(!1),{items:c}=$t(),{isAuthenticated:d,user:m,isAdmin:u}=ds();e.useEffect((()=>{const e=e=>{!a||e.target.closest(".mobile-menu")||e.target.closest(".menu-button")||i(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}),[a]),e.useEffect((()=>(document.body.style.overflow=a?"hidden":"auto",()=>{document.body.style.overflow="auto"})),[a]);const h=()=>o(!n),p=[{name:"Home",path:"/"},{name:"Products",path:"/products"},{name:"About",path:"/about"},{name:"Contact",path:"/contact"},...u()?[{name:"Admin",path:"/admin"}]:[]];return C.jsxs("header",{className:"fixed top-0 left-0 right-0 z-50 transition-all duration-300 "+(t?"bg-white shadow-md py-3":"bg-transparent py-5"),children:[C.jsxs("div",{className:"container flex items-center justify-between",children:[C.jsx(r,{to:"/",className:"relative z-10",children:C.jsx(x.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"flex items-center",children:C.jsx("span",{className:"text-2xl font-bold font-heading gradient-text",children:"DropAI"})})}),C.jsx("nav",{className:"hidden md:block",children:C.jsx("ul",{className:"flex space-x-8",children:p.map(((e,t)=>C.jsx(x.li,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1*t},children:C.jsx(l,{to:e.path,className:({isActive:e})=>"text-base font-medium relative transition-colors duration-300 "+(e?"text-primary-600":"text-gray-700 hover:text-primary-600"),children:({isActive:t})=>C.jsxs(C.Fragment,{children:[e.name,t&&C.jsx(x.span,{layoutId:"underline",className:"absolute left-0 top-full h-0.5 w-full bg-primary-600"})]})})},e.name)))})}),C.jsxs("div",{className:"flex items-center space-x-3",children:[C.jsx(x.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:h,className:"p-2 rounded-full hover:bg-gray-100 transition-colors duration-300","aria-label":"Search",children:C.jsx(mt,{className:"text-xl"})}),d?C.jsx(x.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:C.jsxs(r,{to:"/account",className:"flex items-center gap-2 px-3 py-2 rounded-full hover:bg-gray-100 transition-colors duration-300","aria-label":"Account",children:[(null==m?void 0:m.avatar)?C.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden border-2 border-white",children:C.jsx("img",{src:m.avatar,alt:m.name||"Profile",className:"w-full h-full object-cover"})}):C.jsx(kt,{className:"text-xl"}),C.jsx("span",{className:"hidden md:block text-sm font-medium",children:(null==(s=null==m?void 0:m.name)?void 0:s.split(" ")[0])||"Profile"})]})}):C.jsxs("div",{className:"hidden md:flex items-center space-x-2",children:[C.jsx(x.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:C.jsxs(r,{to:"/login",className:"flex items-center gap-1 px-3 py-2 rounded-md bg-primary-50 hover:bg-primary-100 text-primary-600 transition-colors duration-300",children:[C.jsx(it,{className:"text-sm"}),C.jsx("span",{className:"text-sm font-medium",children:"Login"})]})}),C.jsx(x.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:C.jsxs(r,{to:"/register",className:"flex items-center gap-1 px-3 py-2 rounded-md bg-primary-600 hover:bg-primary-700 text-white transition-colors duration-300",children:[C.jsx(wt,{className:"text-sm"}),C.jsx("span",{className:"text-sm font-medium",children:"Register"})]})})]}),!d&&C.jsx(x.div,{whileHover:{scale:1.1},whileTap:{scale:.95},className:"md:hidden",children:C.jsx(r,{to:"/login",className:"p-2 rounded-full hover:bg-gray-100 transition-colors duration-300","aria-label":"Login",children:C.jsx(it,{className:"text-xl"})})}),C.jsx(x.div,{whileHover:{scale:1.1},whileTap:{scale:.95},className:"relative",children:C.jsxs(r,{to:"/cart",className:"p-2 rounded-full hover:bg-gray-100 transition-colors duration-300","aria-label":"Shopping Cart",children:[C.jsx(pt,{className:"text-xl"}),c.length>0&&C.jsx(x.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 bg-accent-500 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:c.length})]})}),C.jsx(x.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>i(!a),className:"p-2 md:hidden menu-button rounded-full hover:bg-gray-100 transition-colors duration-300","aria-label":a?"Close Menu":"Open Menu",children:a?C.jsx(St,{className:"text-xl"}):C.jsx(ot,{className:"text-xl"})})]})]}),C.jsx(g,{children:n&&C.jsx(x.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"absolute top-full left-0 right-0 bg-white shadow-md p-4 z-50",children:C.jsx("div",{className:"container",children:C.jsxs("div",{className:"relative",children:[C.jsx(cs,{}),C.jsx("button",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-primary-600",onClick:h,children:C.jsx(St,{})})]})})})}),C.jsx(g,{children:a&&C.jsx(x.div,{initial:{opacity:0,x:"100%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"100%"},transition:{type:"spring",damping:25,stiffness:300},className:"fixed inset-0 bg-white z-50 mobile-menu md:hidden pt-20",children:C.jsxs("div",{className:"container h-full flex flex-col",children:[C.jsx("nav",{className:"py-5",children:C.jsx("ul",{className:"space-y-6",children:p.map(((e,t)=>C.jsx(x.li,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.1*t},children:C.jsx(l,{to:e.path,onClick:()=>i(!1),className:({isActive:e})=>"text-2xl font-medium block transition-colors duration-300 "+(e?"text-primary-600":"text-gray-800 hover:text-primary-600"),children:e.name})},e.name)))})}),C.jsx("div",{className:"mt-auto pb-8",children:C.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"space-y-4",children:[d?C.jsxs(r,{to:"/account",onClick:()=>i(!1),className:"btn btn-outline w-full flex items-center justify-center gap-2",children:[C.jsx(kt,{}),C.jsx("span",{children:"My Account"})]}):C.jsxs(C.Fragment,{children:[C.jsxs(r,{to:"/login",onClick:()=>i(!1),className:"btn btn-outline w-full flex items-center justify-center gap-2",children:[C.jsx(it,{}),C.jsx("span",{children:"Login"})]}),C.jsxs(r,{to:"/register",onClick:()=>i(!1),className:"btn btn-primary w-full flex items-center justify-center gap-2",children:[C.jsx(wt,{}),C.jsx("span",{children:"Register"})]})]}),C.jsxs(r,{to:"/cart",onClick:()=>i(!1),className:`btn ${d?"btn-primary":"btn-outline"} w-full flex items-center justify-center gap-2`,children:[C.jsx(pt,{}),C.jsxs("span",{children:["View Cart ",c.length>0&&`(${c.length})`]})]})]})})]})})})]})},us=()=>{const[t,s]=e.useState(""),[a,i]=e.useState(!1),n=[{name:"Instagram",icon:C.jsx(st,{}),url:"https://instagram.com"},{name:"Facebook",icon:C.jsx(Ke,{}),url:"https://facebook.com"},{name:"Twitter",icon:C.jsx(Nt,{}),url:"https://twitter.com"},{name:"YouTube",icon:C.jsx(Ct,{}),url:"https://youtube.com"}];return C.jsx("footer",{className:"bg-gray-900 text-white pt-16 pb-8",children:C.jsxs("div",{className:"container",children:[C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-8",children:[C.jsx("div",{className:"lg:col-span-2",children:C.jsxs(x.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},children:[C.jsx(r,{to:"/",className:"inline-block mb-6",children:C.jsx("span",{className:"text-2xl font-bold font-heading",children:"DropAI"})}),C.jsx("p",{className:"text-gray-400 mb-6 max-w-md",children:"Discover the future of online shopping with our AI-powered dropshipping platform. We connect you with premium products from around the world, personalized just for you."}),C.jsx("div",{className:"flex space-x-4",children:n.map(((e,t)=>C.jsx(x.a,{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center text-gray-400 hover:bg-primary-600 hover:text-white transition-all duration-300","aria-label":e.name,initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.3,delay:.1*t},viewport:{once:!0},whileHover:{y:-5},children:e.icon},e.name)))})]})}),[{title:"Shop",links:[{name:"All Products",path:"/products"},{name:"New Arrivals",path:"/products?category=new"},{name:"Best Sellers",path:"/products?category=best-sellers"},{name:"Deals & Promotions",path:"/products?category=deals"}]},{title:"Company",links:[{name:"About Us",path:"/about"},{name:"Contact",path:"/contact"},{name:"Careers",path:"/careers"},{name:"Blog",path:"/blog"}]},{title:"Customer Service",links:[{name:"FAQ",path:"/faq"},{name:"Shipping & Returns",path:"/shipping"},{name:"Privacy Policy",path:"/privacy"},{name:"Terms & Conditions",path:"/terms"}]}].map(((e,t)=>C.jsx("div",{children:C.jsxs(x.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.1*t},viewport:{once:!0},children:[C.jsx("h3",{className:"text-lg font-bold mb-4",children:e.title}),C.jsx("ul",{className:"space-y-3",children:e.links.map(((e,s)=>C.jsx(x.li,{initial:{opacity:0,x:-10},whileInView:{opacity:1,x:0},transition:{duration:.3,delay:.1*s+.2*t},viewport:{once:!0},children:C.jsx(r,{to:e.path,className:"text-gray-400 hover:text-primary-400 transition-colors duration-300",children:e.name})},e.name)))})]})},e.title)))]}),C.jsx(x.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.3},viewport:{once:!0},className:"border-t border-gray-800 mt-12 pt-8 pb-4",children:C.jsxs("div",{className:"max-w-xl mx-auto text-center",children:[C.jsx("h3",{className:"text-xl font-bold mb-2",children:"Subscribe to our newsletter"}),C.jsx("p",{className:"text-gray-400 mb-6",children:"Get the latest updates on new products and upcoming sales"}),C.jsxs("form",{onSubmit:e=>{e.preventDefault(),t&&(console.log("Subscribing email:",t),i(!0),s(""),setTimeout((()=>{i(!1)}),3e3))},className:"flex flex-col sm:flex-row gap-3",children:[C.jsx("input",{type:"email",value:t,onChange:e=>s(e.target.value),placeholder:"Your email address",className:"input bg-gray-800 border-gray-700 text-white placeholder-gray-500 flex-grow",required:!0}),C.jsx(x.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"submit",className:"btn btn-primary whitespace-nowrap",disabled:a,children:a?"Subscribed!":C.jsxs(C.Fragment,{children:["Subscribe ",C.jsx(Ve,{className:"ml-2"})]})})]})]})}),C.jsx(x.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.5,delay:.4},viewport:{once:!0},className:"text-center text-gray-500 text-sm mt-8",children:C.jsxs("p",{children:["© ",(new Date).getFullYear()," DropAI. All rights reserved."]})})]})})};function xs(){return C.jsx(ts,{children:C.jsx(Kt,{children:C.jsxs(c,{children:[C.jsxs("div",{className:"flex flex-col min-h-screen",children:[C.jsx(ms,{}),C.jsx("main",{className:"flex-grow",children:C.jsxs(d,{children:[C.jsx(m,{path:"/",element:C.jsx(zt,{})}),C.jsx(m,{path:"/products",element:C.jsx(_t,{})}),C.jsx(m,{path:"/products/:productId",element:C.jsx(Zt,{})}),C.jsx(m,{path:"/cart",element:C.jsx(rs,{})}),C.jsx(m,{path:"/checkout",element:C.jsx(as,{})}),C.jsx(m,{path:"/login",element:C.jsx(is,{})}),C.jsx(m,{path:"/admin",element:C.jsx(os,{})}),C.jsx(m,{path:"*",element:C.jsx(ls,{})})]})}),C.jsx(us,{})]}),C.jsx(Ie,{position:"top-right",toastOptions:{duration:3e3,style:{background:"#fff",color:"#333",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",borderRadius:"0.5rem",padding:"0.75rem 1rem"},success:{iconTheme:{primary:"#10B981",secondary:"#fff"}},error:{iconTheme:{primary:"#EF4444",secondary:"#fff"}}}})]})})})}I.createRoot(document.getElementById("root")).render(C.jsx(s.StrictMode,{children:C.jsx(c,{children:C.jsx(xs,{})})}));
